/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["perspectives-react"] = factory();
	else
		root["perspectives-react"] = factory();
})(global, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/binddropzone.js":
/*!*****************************!*\
  !*** ./src/binddropzone.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ BindDropZone\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n ////////////////////////////////////////////////////////////////////////////////\n// DROPZONE\n////////////////////////////////////////////////////////////////////////////////\n\nvar BindDropZone = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(BindDropZone, _React$PureComponent);\n\n  var _super = _createSuper(BindDropZone);\n\n  function BindDropZone(props) {\n    var _this;\n\n    _classCallCheck(this, BindDropZone);\n\n    _this = _super.call(this, props);\n    _this.eventDiv = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n    return _this;\n  } // The dropzone only captures keys when a Card is on the CardClipboard.\n\n\n  _createClass(BindDropZone, [{\n    key: \"checkBinding\",\n    value: function checkBinding(event, roleId\n    /*, setSelectedCard, setPositionToMoveTo*/\n    ) {\n      var component = this; // const eventDivRect = component.eventDiv.current.getBoundingClientRect()\n\n      component.context.checkbinding({\n        rolinstance: roleId\n      }, function (bindingAllowed) {\n        if (bindingAllowed) {\n          component.allowedInstance = roleId;\n        } else {\n          component.eventDiv.current.classList.add(\"border-danger\", \"border\");\n        }\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(event, rolData) {\n      var component = this;\n      component.context.checkbinding(rolData, function (bindingAllowed) {\n        if (bindingAllowed) {\n          // bind_ (binder, binding, myroletype)\n          component.context.bind_(rolData);\n        } else {\n          component.eventDiv.current.classList.add(\"border-danger\", \"border\");\n        }\n      });\n    } // The dropzone only captures keys when a Card is on the CardClipboard\n    // (and when it has focus).\n\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event, roleId, setSelectedCard, setPositionToMoveTo) {\n      var component = this;\n      var eventDivRect = component.eventDiv.current.getBoundingClientRect();\n\n      switch (event.keyCode) {\n        case 13: // Enter\n\n        case 32:\n          // space\n          if (component.allowedInstance === roleId) {\n            // Animate the movement of the card to the dropzone.\n            setPositionToMoveTo({\n              x: eventDivRect.x + \"px\",\n              y: eventDivRect.y + \"px\"\n            }); // Bind the role.\n            // bind_ (binder, binding, myroletype)\n\n            component.context.bind_({\n              rolinstance: roleId\n            }); // Wait for the animation to end.\n\n            setTimeout(function () {\n              setSelectedCard();\n              setPositionToMoveTo();\n            }, 900);\n          } else {\n            setPositionToMoveTo({\n              x: eventDivRect.x + \"px\",\n              y: eventDivRect.y + \"px\"\n            }); // Wait for the animation to end.\n\n            setTimeout(function () {\n              //move back!\n              setPositionToMoveTo({\n                x: \"-1px\",\n                y: \"-1px\"\n              });\n            }, 900);\n          }\n\n          event.preventDefault();\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.AppContext.Consumer, null, function (_ref) {\n        var selectedRole = _ref.selectedRole,\n            setSelectedCard = _ref.setSelectedCard,\n            setPositionToMoveTo = _ref.setPositionToMoveTo;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          ref: component.eventDiv,\n          tabIndex: selectedRole ? 0 : null,\n          onDragEnter: function onDragEnter(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            component.eventDiv.current.tabIndex = 0;\n            component.eventDiv.current.focus();\n          } // No drop without this...\n          ,\n          onDragOver: function onDragOver(event) {\n            event.preventDefault();\n            event.stopPropagation();\n          },\n          onFocus: function onFocus(ev) {\n            if (selectedRole) {\n              component.checkBinding(ev, selectedRole, setSelectedCard);\n            }\n          },\n          onDragLeave: function onDragLeave(ev) {\n            return ev.target.classList.remove(\"border-danger\", \"border\", \"border-success\");\n          },\n          onDrop: function onDrop(ev) {\n            return component.handleDrop(ev, JSON.parse(ev.dataTransfer.getData(\"PSRol\")));\n          },\n          onKeyDown: function onKeyDown(ev) {\n            return component.handleKeyDown(ev, selectedRole, setSelectedCard, setPositionToMoveTo);\n          },\n          style: {\n            flexGrow: 1\n          },\n          className: \"p-2\",\n          \"aria-dropeffect\": \"execute\",\n          \"aria-label\": component.props.ariaLabel\n        }, component.props.children);\n      });\n    }\n  }]);\n\n  return BindDropZone;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().PureComponent));\n\n\nBindDropZone.propTypes = {\n  ariaLabel: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired)\n};\nBindDropZone.contextType = _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSRol; // we use bind and checkBinding.\n\n//# sourceURL=webpack://perspectives-react/./src/binddropzone.js?");

/***/ }),

/***/ "./src/cards.js":
/*!**********************!*\
  !*** ./src/cards.js ***!
  \**********************/
/*! namespace exports */
/*! export SimpleCard [provided] [no usage info] [missing usage info prevents renaming] */
/*! export SimpleCardForRole [provided] [no usage info] [missing usage info prevents renaming] */
/*! export emptyCard [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"emptyCard\": () => /* binding */ emptyCard,\n/* harmony export */   \"SimpleCard\": () => /* binding */ SimpleCard,\n/* harmony export */   \"SimpleCardForRole\": () => /* binding */ SimpleCardForRole\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view.js */ \"./src/view.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\n/* harmony import */ var _roleinstance_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./roleinstance.js */ \"./src/roleinstance.js\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__);\n;\n\n\n\n ///////////////////////////////////////////////////////////////////////////////\n// EMPTYCARD\n// Bind the result of emptyCard to a name, then use that name as a component:\n//   const ContactCard = emptyCard( \"allProperties\", value => <p>Contact card of {value.propval(\"Voornaam\")}.</p>);\n//   <ContactCard labelProperty=\"Voornaam\"/>\n// Use roleInstance to make it draggable:\n//   const ContactCard = roleInstance( emptyCard( \"allProperties\", value => <p>Contact card of {value.propval(\"Voornaam\")}.</p>) );\n// This component should supply a prop `labelProperty` that will be read as property value from the view, functioning as the ARIA-label.\n////////////////////////////////////////////////////////////////////////////////\n\nfunction emptyCard(viewname, Content) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef(function (props, ref) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_view_js__WEBPACK_IMPORTED_MODULE_1__.default, {\n      viewname: viewname\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSView.Consumer, null, function (value) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.Card, {\n        ref: ref,\n        \"aria-label\": value.propval(props.labelProperty)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.Card.Body, null, Content(value)));\n    }));\n  });\n} // TODO. Onderzoek de mogelijkheid om propTypes te gebruiken voor het resultaat van emptyCard.\n///////////////////////////////////////////////////////////////////////////////\n// SIMPLECARD\n// Use like this:\n// const ContactCard = PR.emptyCard( \"allProperties\", value => <p>{value.propval(\"Voornaam\")}</p>);\n// <Rol rol=\"User\"><ContactCard/></Rol>\n////////////////////////////////////////////////////////////////////////////////\n\nvar SimpleCard = emptyCard(\"allProperties\", function (props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, props.propval(\"Name\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, props.propval(\"Description\")));\n});\nvar SimpleCardForRole = (0,_roleinstance_js__WEBPACK_IMPORTED_MODULE_3__.default)(SimpleCard);\n\n//# sourceURL=webpack://perspectives-react/./src/cards.js?");

/***/ }),

/***/ "./src/context.js":
/*!************************!*\
  !*** ./src/context.js ***!
  \************************/
/*! namespace exports */
/*! export Context [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Context\": () => /* binding */ Context\n/* harmony export */ });\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Component = React.Component;\n\nvar Context = /*#__PURE__*/function (_Component) {\n  _inherits(Context, _Component);\n\n  var _super = _createSuper(Context);\n\n  function Context(props) {\n    var _this;\n\n    _classCallCheck(this, Context);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      value: {\n        contextinstance: _this.props.contextinstance,\n        contexttype: _this.props.contexttype,\n        myroletype: \"model:System$PerspectivesSystem$User\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Context, [{\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_0__.PSContext.Provider, {\n        value: component.state.value\n      }, component.props.children);\n    }\n  }]);\n\n  return Context;\n}(Component);\nContext.propTypes = {\n  contextinstance: PropTypes.string.isRequired,\n  contexttype: PropTypes.string.isRequired\n}; // Context passes on through PSContext:\n// contextinstance\n// contexttype\n\n//# sourceURL=webpack://perspectives-react/./src/context.js?");

/***/ }),

/***/ "./src/contextofrole.js":
/*!******************************!*\
  !*** ./src/contextofrole.js ***!
  \******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ ContextOfRole\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\nvar ContextOfRole = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(ContextOfRole, _PerspectivesComponen);\n\n  var _super = _createSuper(ContextOfRole);\n\n  function ContextOfRole(props) {\n    var _this;\n\n    _classCallCheck(this, ContextOfRole);\n\n    _this = _super.call(this, props);\n    _this.state.contextinstance = undefined;\n    _this.state.contexttype = undefined;\n    _this.state.myroletype = undefined;\n    return _this;\n  }\n\n  _createClass(ContextOfRole, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        var role = component.props.rolinstance ? component.props.rolinstance : component.context.rolinstance; // The context of the rol will be bound to the state prop 'contextInstance'.\n\n        component.addUnsubscriber(pproxy.getRolContext(role, function (contextId) {\n          component.addUnsubscriber(pproxy.getContextType(contextId[0], function (contextType) {\n            if (!component.props.myroletype) {\n              // Get it from the core.\n              component.addUnsubscriber(pproxy.getMeForContext(role, function (myroletype) {\n                component.setState({\n                  contextinstance: contextId[0],\n                  contexttype: contextType[0],\n                  myroletype: myroletype[0]\n                });\n              }));\n            } else {\n              component.setState({\n                contextinstance: contextId[0],\n                contexttype: contextType[0],\n                myroletype: component.props.myroletype\n              });\n            }\n          }));\n        }));\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var component = this;\n\n      if (component.props.rolinstance !== prevProps.rolinstance) {\n        component.componentDidMount();\n      } else if (component.props.myroletype !== component.state.myroletype) {\n        component.setState({\n          myroletype: component.props.myroletype\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (component.stateIsComplete()) {\n        var _component = this;\n\n        return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext.Provider, {\n          value: _component.state\n        }, _component.props.children);\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return ContextOfRole;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nContextOfRole.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRol;\nContextOfRole.propTypes = {\n  rolinstance: PropTypes.string,\n  myroletype: PropTypes.string\n};\n\n//# sourceURL=webpack://perspectives-react/./src/contextofrole.js?");

/***/ }),

/***/ "./src/createcontext.js":
/*!******************************!*\
  !*** ./src/createcontext.js ***!
  \******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ CreateContext\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\nvar CreateContext = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(CreateContext, _PerspectivesComponen);\n\n  var _super = _createSuper(CreateContext);\n\n  function CreateContext() {\n    _classCallCheck(this, CreateContext);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CreateContext, [{\n    key: \"create\",\n    // This function returns a promise that will resolve to the identifier of the external role of the new context.\n    value: function create(contextDescription) {\n      var component = this;\n      var defaultContextDescription = {\n        id: \"\",\n        // will be set in the core.\n        prototype: undefined,\n        ctype: component.props.contextname,\n        rollen: {},\n        interneProperties: {},\n        externeProperties: {}\n      };\n      var resolver;\n      var p = new Promise(function (resolve, reject) {\n        resolver = resolve;\n      }); // Move all properties to the default context description to ensure we send a complete description.\n\n      Object.assign(defaultContextDescription, contextDescription);\n      Perspectives.then(function (pproxy) {\n        pproxy.createContext(defaultContextDescription, component.props.rolname, // local role name\n        component.context.contextinstance, component.context.contexttype, component.context.myroletype, function (contextAndExternalRole) {\n          // Resolve the promise returned by calling create; return the new external role identifier.\n          resolver(contextAndExternalRole[0]);\n        });\n      });\n      return p;\n    } // Render! props.children contains the nested elements that provide input controls.\n    // These should be provided these props:\n    //  - create\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      function cloneChild(child) {\n        return React.cloneElement(child, {\n          create: function create(contextDescription) {\n            return component.create(contextDescription);\n          }\n        });\n      }\n\n      if (Array.isArray(component.props.children)) {\n        return React.Children.map(component.props.children, cloneChild);\n      } else {\n        return cloneChild(component.props.children);\n      }\n    }\n  }]);\n\n  return CreateContext;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nCreateContext.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext;\nCreateContext.propTypes = {\n  contextname: PropTypes.string.isRequired,\n  // fully qualified name: the type of Context to create.\n  rolname: PropTypes.string.isRequired // (local) name of the role type the context should be bound in.\n\n}; // CreateContext passes on:\n// create\n\n//# sourceURL=webpack://perspectives-react/./src/createcontext.js?");

/***/ }),

/***/ "./src/createcontext_.js":
/*!*******************************!*\
  !*** ./src/createcontext_.js ***!
  \*******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ CreateContext_\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\nvar CreateContext_ = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(CreateContext_, _PerspectivesComponen);\n\n  var _super = _createSuper(CreateContext_);\n\n  function CreateContext_() {\n    _classCallCheck(this, CreateContext_);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CreateContext_, [{\n    key: \"create\",\n    // This function returns a promise that will resolve to the identifier of the external role of the new context.\n    value: function create(contextDescription) {\n      var component = this;\n      var defaultContextDescription = {\n        id: \"\",\n        // will be set in the core.\n        prototype: undefined,\n        ctype: component.props.contextname,\n        rollen: {},\n        interneProperties: {},\n        externeProperties: {}\n      };\n      var resolver;\n      var p = new Promise(function (resolve, reject) {\n        resolver = resolve;\n      }); // Move all properties to the default context description to ensure we send a complete description.\n\n      Object.assign(defaultContextDescription, contextDescription);\n      Perspectives.then(function (pproxy) {\n        pproxy.createContext_(defaultContextDescription, component.props.rolname, // local role name\n        component.context.rolinstance, component.context.myroletype, function (buitenRolId) {\n          // Resolve the promise returned by calling create.\n          resolver(buitenRolId[0]);\n        });\n      });\n      return p;\n    } // Render! props.children contains the nested elements that provide input controls.\n    // These should be provided these props:\n    //  - create\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      function cloneChild(child) {\n        return React.cloneElement(child, {\n          create: function create(contextDescription) {\n            return component.create(contextDescription);\n          }\n        });\n      }\n\n      if (Array.isArray(component.props.children)) {\n        return React.Children.map(component.props.children, cloneChild);\n      } else {\n        return cloneChild(component.props.children);\n      }\n    }\n  }]);\n\n  return CreateContext_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nCreateContext_.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRol;\nCreateContext_.propTypes = {\n  contextname: PropTypes.string.isRequired // fully qualified name: the type of Context to create.\n\n}; // CreateContext passes on:\n// create\n\n//# sourceURL=webpack://perspectives-react/./src/createcontext_.js?");

/***/ }),

/***/ "./src/createcontextinexistingrol.js":
/*!*******************************************!*\
  !*** ./src/createcontextinexistingrol.js ***!
  \*******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ CreateContextInExistingRol\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\nfunction CreateContextInExistingRol(props) {\n  return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext.Consumer, null, function (pscontext) {\n    return /*#__PURE__*/React.createElement(CreateContextInExistingRol_, {\n      contextname: props.contextname,\n      myroletype: pscontext.myroletype\n    }, props.children);\n  });\n}\n\nvar CreateContextInExistingRol_ = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(CreateContextInExistingRol_, _PerspectivesComponen);\n\n  var _super = _createSuper(CreateContextInExistingRol_);\n\n  function CreateContextInExistingRol_() {\n    _classCallCheck(this, CreateContextInExistingRol_);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CreateContextInExistingRol_, [{\n    key: \"create\",\n    value: function create(contextDescription) {\n      var component = this;\n      var defaultContextDescription = {\n        id: \"\",\n        // will be set in the core.\n        prototype: undefined,\n        ctype: component.props.contextname,\n        rollen: {},\n        interneProperties: {},\n        externeProperties: {}\n      }; // Move all properties to the default context description to ensure we send a complete description.\n\n      Object.assign(contextDescription, defaultContextDescription);\n      Perspectives.then(function (pproxy) {\n        var component = this;\n        pproxy.createContext(defaultContextDescription, component.props.myroletype, function (buitenRolId) {\n          pproxy.setBinding(component.context.rolinstance, buitenRolId[0], component.props.myroletype);\n        });\n      });\n    } // Render! props.children contains the nested elements that provide input controls.\n    // These should be provided these props:\n    //  - create\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      function cloneChild(child) {\n        return React.cloneElement(child, {\n          create: function create(contextDescription) {\n            component.create(contextDescription);\n          }\n        });\n      }\n\n      if (Array.isArray(component.props.children)) {\n        return React.Children.map(component.props.children, cloneChild);\n      } else {\n        return cloneChild(component.props.children);\n      }\n    }\n  }]);\n\n  return CreateContextInExistingRol_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nCreateContextInExistingRol_.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRol;\nCreateContextInExistingRol_.propTypes = {\n  contextname: PropTypes.string.isRequired,\n  // fully qualified name\n  myroletype: PropTypes.string.isRequired\n}; // CreateContext passes on:\n// create\n\n//# sourceURL=webpack://perspectives-react/./src/createcontextinexistingrol.js?");

/***/ }),

/***/ "./src/createdropzone.js":
/*!*******************************!*\
  !*** ./src/createdropzone.js ***!
  \*******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ CreateDropZone\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n ////////////////////////////////////////////////////////////////////////////////\n// DROPZONE\n////////////////////////////////////////////////////////////////////////////////\n\nvar CreateDropZone = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(CreateDropZone, _React$PureComponent);\n\n  var _super = _createSuper(CreateDropZone);\n\n  function CreateDropZone(props) {\n    var _this;\n\n    _classCallCheck(this, CreateDropZone);\n\n    _this = _super.call(this, props);\n    _this.eventDiv = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n    return _this;\n  } // The dropzone only captures keys when a Card is on the CardClipboard.\n\n\n  _createClass(CreateDropZone, [{\n    key: \"checkBinding\",\n    value: function checkBinding(event, roleId\n    /*, setSelectedCard, setPositionToMoveTo*/\n    ) {\n      var component = this; // const eventDivRect = component.eventDiv.current.getBoundingClientRect()\n\n      component.context.checkbinding({\n        rolinstance: roleId\n      }, function (bindingAllowed) {\n        if (bindingAllowed) {\n          component.allowedInstance = roleId;\n        } else {\n          component.eventDiv.current.classList.add(\"border-danger\", \"border\");\n        }\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(event, rolData) {\n      var component = this;\n      component.context.checkbinding(rolData, function (bindingAllowed) {\n        if (bindingAllowed) {\n          component.context.bind(rolData);\n        } else {\n          component.eventDiv.current.classList.add(\"border-danger\", \"border\");\n        }\n      });\n    } // The dropzone only captures keys when a Card is on the CardClipboard\n    // (and when it has focus).\n\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event, roleId, setSelectedCard, setPositionToMoveTo) {\n      var component = this;\n      var eventDivRect = component.eventDiv.current.getBoundingClientRect();\n\n      switch (event.keyCode) {\n        case 13: // Enter\n\n        case 32:\n          // space\n          if (component.allowedInstance === roleId) {\n            // Animate the movement of the card to the dropzone.\n            setPositionToMoveTo({\n              x: eventDivRect.x + \"px\",\n              y: eventDivRect.y + \"px\"\n            }); // Bind the role.\n\n            component.context.bind({\n              rolinstance: roleId\n            }); // Wait for the animation to end.\n\n            setTimeout(function () {\n              setSelectedCard();\n              setPositionToMoveTo();\n            }, 900);\n          } else {\n            setPositionToMoveTo({\n              x: eventDivRect.x + \"px\",\n              y: eventDivRect.y + \"px\"\n            }); // Wait for the animation to end.\n\n            setTimeout(function () {\n              //move back!\n              setPositionToMoveTo({\n                x: \"-1px\",\n                y: \"-1px\"\n              });\n            }, 900);\n          }\n\n          event.preventDefault();\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.AppContext.Consumer, null, function (_ref) {\n        var selectedRole = _ref.selectedRole,\n            setSelectedCard = _ref.setSelectedCard,\n            setPositionToMoveTo = _ref.setPositionToMoveTo;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          ref: component.eventDiv,\n          tabIndex: selectedRole ? 0 : null,\n          onDragEnter: function onDragEnter(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            component.eventDiv.current.tabIndex = 0;\n            component.eventDiv.current.focus();\n          } // No drop without this...\n          ,\n          onDragOver: function onDragOver(event) {\n            event.preventDefault();\n            event.stopPropagation();\n          },\n          onFocus: function onFocus(ev) {\n            if (selectedRole) {\n              component.checkBinding(ev, selectedRole, setSelectedCard);\n            }\n          },\n          onDragLeave: function onDragLeave(ev) {\n            return ev.target.classList.remove(\"border-danger\", \"border\", \"border-success\");\n          },\n          onDrop: function onDrop(ev) {\n            return component.handleDrop(ev, JSON.parse(ev.dataTransfer.getData(\"PSRol\")));\n          },\n          onKeyDown: function onKeyDown(ev) {\n            return component.handleKeyDown(ev, selectedRole, setSelectedCard, setPositionToMoveTo);\n          },\n          style: {\n            flexGrow: 1\n          },\n          className: \"p-2\",\n          \"aria-dropeffect\": \"execute\",\n          \"aria-label\": component.props.ariaLabel\n        }, component.props.children);\n      });\n    }\n  }]);\n\n  return CreateDropZone;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().PureComponent));\n\n\nCreateDropZone.propTypes = {\n  ariaLabel: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired)\n};\nCreateDropZone.contextType = _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSRoleInstances; // we use bind and checkBinding.\n\n//# sourceURL=webpack://perspectives-react/./src/createdropzone.js?");

/***/ }),

/***/ "./src/externalrole.js":
/*!*****************************!*\
  !*** ./src/externalrole.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ ExternalRole\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\n\nvar ExternalRole = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(ExternalRole, _PerspectivesComponen);\n\n  var _super = _createSuper(ExternalRole);\n\n  function ExternalRole(props) {\n    var _this;\n\n    _classCallCheck(this, ExternalRole);\n\n    _this = _super.call(this, props);\n    _this.state.value = undefined;\n    return _this;\n  }\n\n  _createClass(ExternalRole, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        component.addUnsubscriber(pproxy.getRolType((0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_1__.externalRole)(component.context.contextinstance), function (rolType) {\n          var updater = {\n            value: {\n              contextinstance: component.context.contextinstance,\n              contexttype: component.context.contexttype,\n              roltype: rolType[0],\n              rolinstance: (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_1__.externalRole)(component.context.contextinstance),\n              bind_: function bind_() {},\n              checkbinding: function checkbinding(ignore, callback) {\n                callback(true);\n              },\n              removerol: function removerol() {},\n              isselected: false\n            }\n          };\n          component.setState(updater);\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (component.stateIsComplete()) {\n        return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_2__.PSRol.Provider, {\n          value: component.state.value\n        }, component.props.children);\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return ExternalRole;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nExternalRole.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_2__.PSContext; // ExternalRole passes on a PSRol ReactContext.\n\n//# sourceURL=webpack://perspectives-react/./src/externalrole.js?");

/***/ }),

/***/ "./src/filedropzone.js":
/*!*****************************!*\
  !*** ./src/filedropzone.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ FileDropZone\n/* harmony export */ });\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction FileDropZone(props) {\n  var renderTooltip = function renderTooltip(tooltipProps) {\n    return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_0__.Tooltip, _extends({\n      id: \"download-tooltip\"\n    }, tooltipProps, {\n      show: tooltipProps.show.toString()\n    }), props.tooltiptext);\n  };\n\n  function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case 13: // Enter\n\n      case 32:\n        // space\n        document.getElementById('selectedFile').click();\n        event.preventDefault();\n        break;\n    }\n  }\n\n  function handleFileSelect(event) {\n    var fileList = event.target.files;\n\n    if (fileList.length > 0) {\n      handleFileWithExtension(fileList);\n    }\n  }\n\n  function handleFileWithExtension(fileList) {\n    var theFile = fileList.item(0);\n    var r = props.extension.match(/\\./) ? new RegExp(\"\\\\\" + props.extension) : new RegExp(\"\\.\" + props.extension); // const r = new RegExp( \"\\.\" + props.extension);\n\n    if (theFile && theFile.name.match(r)) {\n      props.handlefile(theFile);\n    }\n  }\n\n  if (props.tooltiptext) {\n    return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_0__.OverlayTrigger, {\n      placement: \"left\",\n      delay: {\n        show: 250,\n        hide: 400\n      },\n      overlay: renderTooltip\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onDragOver: function onDragOver(ev) {\n        return ev.preventDefault();\n      },\n      \"aria-dropeffect\": \"execute\",\n      \"aria-describedby\": \"Select a file\",\n      tabIndex: \"0\",\n      onDrop: function onDrop(ev) {\n        handleFileWithExtension(ev.dataTransfer.files);\n        ev.target.classList.remove(\"border\", \"p-3\", \"border-primary\");\n      },\n      onDragEnter: function onDragEnter(ev) {\n        return ev.target.classList.add(\"border\", \"border-primary\");\n      },\n      onDragLeave: function onDragLeave(ev) {\n        return ev.target.classList.remove(\"border\", \"border-primary\");\n      },\n      onKeyDown: function onKeyDown(ev) {\n        return handleKeyDown(ev);\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"selectedFile\",\n      style: {\n        display: \"none\"\n      },\n      onChange: function onChange(ev) {\n        return handleFileSelect(ev);\n      }\n    }), props.children));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onDragOver: function onDragOver(ev) {\n        return ev.preventDefault();\n      },\n      \"aria-dropeffect\": \"execute\",\n      \"aria-describedby\": \"Select a file\",\n      tabIndex: \"0\",\n      onDrop: function onDrop(ev) {\n        handleFileWithExtension(ev.dataTransfer.files);\n        ev.target.classList.remove(\"border\", \"p-3\", \"border-primary\");\n      },\n      onDragEnter: function onDragEnter(ev) {\n        return ev.target.classList.add(\"border\", \"border-primary\");\n      },\n      onDragLeave: function onDragLeave(ev) {\n        return ev.target.classList.remove(\"border\", \"border-primary\");\n      },\n      onKeyDown: function onKeyDown(ev) {\n        return handleKeyDown(ev);\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"selectedFile\",\n      style: {\n        display: \"none\"\n      },\n      onChange: function onChange(ev) {\n        return handleFileSelect(ev);\n      }\n    }), props.children);\n  }\n}\nFileDropZone.propTypes = {\n  tooltiptext: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  handlefile: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),\n  extension: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string)\n};\n\n//# sourceURL=webpack://perspectives-react/./src/filedropzone.js?");

/***/ }),

/***/ "./src/importContexts.js":
/*!*******************************!*\
  !*** ./src/importContexts.js ***!
  \*******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ importContexts\n/* harmony export */ });\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\nfunction importContexts(fileList) {\n  function isContextSerialisation(t) {\n    var firstContext = t[0];\n\n    if (firstContext) {\n      return firstContext.rollen && firstContext.id && firstContext.ctype;\n    }\n  }\n\n  var theFile = fileList.item(0);\n\n  if (theFile) {\n    if (theFile.type == \"application/json\") {\n      theFile.text().then(function (t) {\n        var json = JSON.parse(t);\n\n        if (isContextSerialisation(json)) {\n          // debugger;\n          // Now send to the PDR.\n          Perspectives.then(function (pproxy) {\n            pproxy.importContexts(json, function (buitenRolId) {// nothing to do here.\n            });\n          });\n        } else {\n          alert(\"Not a valid Perspectives serialisation!\");\n        }\n      });\n    } else {\n      alert(\"Not JSON!\");\n    }\n  } else {\n    alert(\"No file present!\");\n  }\n}\n\n//# sourceURL=webpack://perspectives-react/./src/importContexts.js?");

/***/ }),

/***/ "./src/importTransaction.js":
/*!**********************************!*\
  !*** ./src/importTransaction.js ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ importTransaction\n/* harmony export */ });\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\nfunction importTransaction(theFile) {\n  // A slight check.\n  function isTransaction(t) {\n    if (!t.contents) {\n      return false;\n    }\n\n    if (!t.contents.timeStamp) {\n      return false;\n    }\n\n    if (!t.contents.deltas) {\n      return false;\n    }\n\n    return true;\n  }\n\n  if (theFile) {\n    if (theFile.type == \"application/json\") {\n      theFile.text().then(function (t) {\n        var json = JSON.parse(t);\n\n        if (isTransaction(json)) {\n          // debugger;\n          // Now send to the PDR.\n          Perspectives.then(function (pproxy) {\n            pproxy.importTransaction(json, function (buitenRolId) {// nothing to do here.\n            });\n          });\n        } else {\n          alert(\"Not a valid Perspectives serialisation!\");\n        }\n      });\n    } else {\n      alert(\"Not JSON!\");\n    }\n  } else {\n    alert(\"No file present!\");\n  }\n}\n\n//# sourceURL=webpack://perspectives-react/./src/importTransaction.js?");

/***/ }),

/***/ "./src/invitation.js":
/*!***************************!*\
  !*** ./src/invitation.js ***!
  \***************************/
/*! namespace exports */
/*! export Invitation [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ViewIncomingInvitation [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Invitation\": () => /* binding */ Invitation,\n/* harmony export */   \"ViewIncomingInvitation\": () => /* binding */ ViewIncomingInvitation\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\n/* harmony import */ var _views_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views.js */ \"./src/views.js\");\n/* harmony import */ var _setboolascheckbox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./setboolascheckbox.js */ \"./src/setboolascheckbox.js\");\n/* harmony import */ var _roleinstance_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./roleinstance.js */ \"./src/roleinstance.js\");\n/* harmony import */ var _rol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./rol.js */ \"./src/rol.js\");\n/* harmony import */ var _cards_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cards.js */ \"./src/cards.js\");\n/* harmony import */ var _externalrole_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./externalrole.js */ \"./src/externalrole.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./view.js */ \"./src/view.js\");\n/* harmony import */ var _roleinstances_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./roleinstances.js */ \"./src/roleinstances.js\");\n/* harmony import */ var _noinstancesswitcher_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./noinstancesswitcher.js */ \"./src/noinstancesswitcher.js\");\n/* harmony import */ var _createdropzone_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./createdropzone.js */ \"./src/createdropzone.js\");\n/* harmony import */ var _binddropzone_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./binddropzone.js */ \"./src/binddropzone.js\");\n/* harmony import */ var _roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./roleinstanceiterator.js */ \"./src/roleinstanceiterator.js\");\n/* harmony import */ var _perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./perspectivescontainer.js */ \"./src/perspectivescontainer.js\");\n/* harmony import */ var _primer_octicons_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @primer/octicons-react */ \"@primer/octicons-react\");\n/* harmony import */ var _primer_octicons_react__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_16__);\n;\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Invitation() {\n  function InvitationCard(props) {\n    function download(filename, text) {\n      var element = document.createElement('a');\n      element.setAttribute('href', 'data:text/json;charset=utf-8,' + encodeURIComponent(text));\n      element.setAttribute('download', filename);\n      element.style.display = 'none';\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n    }\n\n    if (props.required) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, {\n        as: react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Row\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, {\n        column: true,\n        sm: \"3\",\n        id: \"MessageId\"\n      }, \"Message:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n        sm: \"9\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSView.Consumer, null, function (props) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Control, {\n          \"aria-labelledby\": \"MessageId\",\n          \"aria-describedby\": \"messageDescriptionID\",\n          defaultValue: props.propval(\"Message\"),\n          onBlur: function onBlur(e) {\n            return props.propset(\"Message\", e.target.value);\n          }\n        });\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n        sm: \"9\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Text, {\n        className: \"text-muted\",\n        id: \"messageDescriptionID\"\n      }, \"Enter a text message to invite your contact with.\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return download(\"invitation.json\", props.serialisation);\n        },\n        disabled: props.serialisation[0] ? null : true\n      }, \"Download invitation file\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Click the button to download an invitation file. An invitation file is personal! Send it to the person you want to invite to connect, through a secure channel.\"))));\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null);\n    }\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_views_js__WEBPACK_IMPORTED_MODULE_3__.ViewOnExternalRole, {\n    viewname: \"allProperties\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSView.Consumer, null, function (value) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_setboolascheckbox_js__WEBPACK_IMPORTED_MODULE_4__.default, {\n      propertyname: \"IWantToInviteAnUnconnectedUser\",\n      label: \"I want to invite someone I have no contact card for\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(InvitationCard, {\n      required: value.propval(\"IWantToInviteAnUnconnectedUser\")[0] == [\"true\"],\n      serialisation: value.propval(\"SerialisedInvitation\")\n    }));\n  }));\n}\n\nfunction Message() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, {\n    as: react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Row\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, {\n    column: true,\n    sm: \"3\"\n  }, \"You are invited:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n    sm: \"9\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_externalrole_js__WEBPACK_IMPORTED_MODULE_8__.default, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_view_js__WEBPACK_IMPORTED_MODULE_9__.default, {\n    viewname: \"allProperties\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSView.Consumer, null, function (props) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Control, {\n      className: \"font-italic\",\n      plaintext: true,\n      readOnly: true,\n      defaultValue: props.propval(\"Message\")\n    });\n  })))));\n}\n\nfunction ViewIncomingInvitation(props) {\n  var ContactCard = (0,_roleinstance_js__WEBPACK_IMPORTED_MODULE_5__.default)((0,_cards_js__WEBPACK_IMPORTED_MODULE_7__.emptyCard)(\"allProperties\", function (value) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Contact card of \", value.propval(\"Voornaam\"), \".\");\n  }));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n    className: \"pb-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_15__.BackButton, {\n    buttontext: \"Back to all chats\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Message, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"section\", {\n    \"aria-label\": \"Received invitation\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, {\n    as: react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Row,\n    controlId: \"initiator\",\n    className: \"align-items-center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n    sm: \"4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_rol_js__WEBPACK_IMPORTED_MODULE_6__.default, {\n    rol: \"Guest\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ContactCard, {\n    labelProperty: \"Voornaam\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n    sm: \"4 text-center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_16__.ArrowRightIcon, {\n    alt: \"ArrowRight\",\n    size: \"large\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Col, {\n    sm: \"4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_roleinstances_js__WEBPACK_IMPORTED_MODULE_10__.default, {\n    rol: props.specialisedRole\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_noinstancesswitcher_js__WEBPACK_IMPORTED_MODULE_11__.default, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_createdropzone_js__WEBPACK_IMPORTED_MODULE_12__.default, {\n    ariaLabel: \"To accept the invitation, drag your own contact card over here and drop it.\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Card, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Card.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"To accept the invitation, drag your own contact card over here and drop it. create\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_14__.default, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_binddropzone_js__WEBPACK_IMPORTED_MODULE_13__.default, {\n    ariaLabel: \"To accept the invitation, drag your own contact card over here and drop it.\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Card, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Card.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"To accept the invitation, drag your own contact card over here and drop it. bind\")))))))))));\n}\nViewIncomingInvitation.propTypes = {\n  specialisedRole: PropTypes.string\n};\n\n//# sourceURL=webpack://perspectives-react/./src/invitation.js?");

/***/ }),

/***/ "./src/localrolespecialisation.js":
/*!****************************************!*\
  !*** ./src/localrolespecialisation.js ***!
  \****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ LocalRoleSpecialisation\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\n\n\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives; // LocalRoleSpecialisation requires a PSContext as context and a prop\n// `ofrole` that names a role name that is an aspect role of a local role.\n// It supplies that local role name (qualified) on the props of its children,\n// as the prop `specialisedRole`.\n\n\nvar LocalRoleSpecialisation = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(LocalRoleSpecialisation, _PerspectivesComponen);\n\n  var _super = _createSuper(LocalRoleSpecialisation);\n\n  function LocalRoleSpecialisation(props) {\n    var _this;\n\n    _classCallCheck(this, LocalRoleSpecialisation);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      specialisedRole: undefined\n    };\n    return _this;\n  }\n\n  _createClass(LocalRoleSpecialisation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        pproxy.getLocalRoleSpecialisation(component.props.ofrole, component.context.contextinstance, function (specialisedRoles) {\n          if (specialisedRoles.length == 0) {\n            throw \"Screen programming error: There are no specialisations of role \" + component.props.ofrole + \" in context type \" + component.context.contexttype;\n          } else component.setState({\n            specialisedRole: specialisedRoles[0]\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (component.stateIsComplete()) {\n        return React.cloneElement(component.props.children, {\n          specialisedRole: component.state.specialisedRole\n        });\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return LocalRoleSpecialisation;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nLocalRoleSpecialisation.propTypes = {\n  ofrole: PropTypes.string.isRequired\n};\nLocalRoleSpecialisation.contextType = _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__.PSContext;\n\n//# sourceURL=webpack://perspectives-react/./src/localrolespecialisation.js?");

/***/ }),

/***/ "./src/makescreens.js":
/*!****************************!*\
  !*** ./src/makescreens.js ***!
  \****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ makeScreens\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n;\n\nfunction makeScreens(screenObj) {\n  function Screens(props) {\n    if (screenObj[props.screenName]) {\n      return screenObj[props.screenName]();\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Cannot find the screen \", props.screenName, \" in the screen module for model:System\"));\n    }\n  }\n\n  Screens.propTypes = {\n    screenName: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired)\n  };\n  return Screens;\n}\n\n//# sourceURL=webpack://perspectives-react/./src/makescreens.js?");

/***/ }),

/***/ "./src/mysystem.js":
/*!*************************!*\
  !*** ./src/mysystem.js ***!
  \*************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ MySystem\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\nvar MySystem = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(MySystem, _PerspectivesComponen);\n\n  var _super = _createSuper(MySystem);\n\n  function MySystem(props) {\n    var _this;\n\n    _classCallCheck(this, MySystem);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      contextinstance: undefined,\n      contexttype: \"model:System$PerspectivesSystem\",\n      myroletype: \"model:System$PerspectivesSystem$User\"\n    };\n    return _this;\n  }\n\n  _createClass(MySystem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      var rolinstance;\n      Perspectives.then(function (pproxy) {\n        pproxy.getUserIdentifier(function (sysId) {\n          component.setState({\n            contextinstance: \"model:User$\" + sysId[0]\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (component.stateIsComplete()) {\n        return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__.PSContext.Provider, {\n          value: component.state\n        }, component.props.children);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", null);\n      }\n    }\n  }]);\n\n  return MySystem;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nMySystem.propTypes = {}; // Context passes on through PSContext:\n// contextinstance\n// contexttype\n\n//# sourceURL=webpack://perspectives-react/./src/mysystem.js?");

/***/ }),

/***/ "./src/noinstancesswitcher.js":
/*!************************************!*\
  !*** ./src/noinstancesswitcher.js ***!
  \************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ NoInstancesSwitcher\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\n\n // When offered two children, renders the first if its PSRoleInstances context\n// has no instances. If it has instances, renders the second.\n// If only one child is available, just renders that.\n\nvar NoInstancesSwitcher = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(NoInstancesSwitcher, _PerspectivesComponen);\n\n  var _super = _createSuper(NoInstancesSwitcher);\n\n  function NoInstancesSwitcher() {\n    _classCallCheck(this, NoInstancesSwitcher);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NoInstancesSwitcher, [{\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      var defaultElement, children;\n\n      if (React.Children.count(component.props.children) == 1) {\n        children = component.props.children;\n      } else {\n        children = React.Children.toArray(component.props.children);\n        defaultElement = children[0];\n        children = children.slice(1);\n      } // By using the previous instances, we make sure React does not update the children.\n\n\n      if (component.context.instances.length == 0) {\n        if (defaultElement) {\n          return defaultElement;\n        } else {\n          return null;\n        }\n      } else {\n        return children;\n      }\n    }\n  }]);\n\n  return NoInstancesSwitcher;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nNoInstancesSwitcher.contextType = _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__.PSRoleInstances;\nNoInstancesSwitcher.propTypes = {};\n\n//# sourceURL=webpack://perspectives-react/./src/noinstancesswitcher.js?");

/***/ }),

/***/ "./src/perspectives-react-components.js":
/*!**********************************************!*\
  !*** ./src/perspectives-react-components.js ***!
  \**********************************************/
/*! namespace exports */
/*! export AppContext [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/reactcontexts.js .AppContext */
/*! export BackButton [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/perspectivescontainer.js .BackButton */
/*! export BindDropZone [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/binddropzone.js .default */
/*! export Context [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/context.js .Context */
/*! export ContextOfRole [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/contextofrole.js .default */
/*! export CreateContext [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/createcontext.js .default */
/*! export CreateContextInExistingRol [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/createcontextinexistingrol.js .default */
/*! export CreateContext_ [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/createcontext_.js .default */
/*! export CreateDropZone [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/createdropzone.js .default */
/*! export ExternalRole [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/externalrole.js .default */
/*! export FileDropZone [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/filedropzone.js .default */
/*! export Invitation [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/invitation.js .Invitation */
/*! export LocalRoleSpecialisation [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/localrolespecialisation.js .default */
/*! export MySystem [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/mysystem.js .default */
/*! export NoInstancesSwitcher [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/noinstancesswitcher.js .default */
/*! export PSContext [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/reactcontexts.js .PSContext */
/*! export PSProperty [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/reactcontexts.js .PSProperty */
/*! export PSRol [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/reactcontexts.js .PSRol */
/*! export PSRoleInstances [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/reactcontexts.js .PSRoleInstances */
/*! export PSView [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/reactcontexts.js .PSView */
/*! export PerspectivesComponent [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/perspectivescomponent.js .default */
/*! export PerspectivesContainer [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/perspectivescontainer.js .PerspectivesContainer */
/*! export RemoveBinding [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/removeBinding.js .default */
/*! export RemoveRol [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/removeRol.js .default */
/*! export Rol [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/rol.js .default */
/*! export RoleForm [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/roleform.js .default */
/*! export RoleInstanceIterator [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/roleinstanceiterator.js .default */
/*! export RoleInstances [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/roleinstances.js .default */
/*! export RoleTable [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/roletable.js .default */
/*! export Screen [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/screen.js .default */
/*! export SetBoolAsCheckbox [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/setboolascheckbox.js .default */
/*! export SimpleCard [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/cards.js .SimpleCard */
/*! export SimpleCardForRole [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/cards.js .SimpleCardForRole */
/*! export View [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/view.js .default */
/*! export ViewIncomingInvitation [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/invitation.js .ViewIncomingInvitation */
/*! export ViewOnExternalRole [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/views.js .ViewOnExternalRole */
/*! export deconstructModelName [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/urifunctions.js .deconstructModelName */
/*! export deconstructSegments [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/urifunctions.js .deconstructSegments */
/*! export emptyCard [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/cards.js .emptyCard */
/*! export importContexts [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/importContexts.js .default */
/*! export importTransaction [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/importTransaction.js .default */
/*! export makeScreens [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/makescreens.js .default */
/*! export roleInstance [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] -> ./src/roleinstance.js .default */
/*! other exports [not provided] [maybe used in main (runtime-defined)] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.d, __webpack_require__.r, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Rol\": () => /* reexport safe */ _rol_js__WEBPACK_IMPORTED_MODULE_0__.default,\n/* harmony export */   \"Context\": () => /* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_1__.Context,\n/* harmony export */   \"View\": () => /* reexport safe */ _view_js__WEBPACK_IMPORTED_MODULE_2__.default,\n/* harmony export */   \"ContextOfRole\": () => /* reexport safe */ _contextofrole_js__WEBPACK_IMPORTED_MODULE_3__.default,\n/* harmony export */   \"ViewOnExternalRole\": () => /* reexport safe */ _views_js__WEBPACK_IMPORTED_MODULE_4__.ViewOnExternalRole,\n/* harmony export */   \"CreateContext\": () => /* reexport safe */ _createcontext_js__WEBPACK_IMPORTED_MODULE_5__.default,\n/* harmony export */   \"CreateContext_\": () => /* reexport safe */ _createcontext_js__WEBPACK_IMPORTED_MODULE_6__.default,\n/* harmony export */   \"importContexts\": () => /* reexport safe */ _importContexts_js__WEBPACK_IMPORTED_MODULE_7__.default,\n/* harmony export */   \"importTransaction\": () => /* reexport safe */ _importTransaction_js__WEBPACK_IMPORTED_MODULE_8__.default,\n/* harmony export */   \"AppContext\": () => /* reexport safe */ _reactcontexts__WEBPACK_IMPORTED_MODULE_9__.AppContext,\n/* harmony export */   \"PSContext\": () => /* reexport safe */ _reactcontexts__WEBPACK_IMPORTED_MODULE_9__.PSContext,\n/* harmony export */   \"PSProperty\": () => /* reexport safe */ _reactcontexts__WEBPACK_IMPORTED_MODULE_9__.PSProperty,\n/* harmony export */   \"PSRol\": () => /* reexport safe */ _reactcontexts__WEBPACK_IMPORTED_MODULE_9__.PSRol,\n/* harmony export */   \"PSRoleInstances\": () => /* reexport safe */ _reactcontexts__WEBPACK_IMPORTED_MODULE_9__.PSRoleInstances,\n/* harmony export */   \"PSView\": () => /* reexport safe */ _reactcontexts__WEBPACK_IMPORTED_MODULE_9__.PSView,\n/* harmony export */   \"ExternalRole\": () => /* reexport safe */ _externalrole_js__WEBPACK_IMPORTED_MODULE_10__.default,\n/* harmony export */   \"CreateContextInExistingRol\": () => /* reexport safe */ _createcontextinexistingrol_js__WEBPACK_IMPORTED_MODULE_11__.default,\n/* harmony export */   \"deconstructModelName\": () => /* reexport safe */ _urifunctions_js__WEBPACK_IMPORTED_MODULE_12__.deconstructModelName,\n/* harmony export */   \"deconstructSegments\": () => /* reexport safe */ _urifunctions_js__WEBPACK_IMPORTED_MODULE_12__.deconstructSegments,\n/* harmony export */   \"Screen\": () => /* reexport safe */ _screen_js__WEBPACK_IMPORTED_MODULE_13__.default,\n/* harmony export */   \"RemoveBinding\": () => /* reexport safe */ _removeBinding_js__WEBPACK_IMPORTED_MODULE_14__.default,\n/* harmony export */   \"RemoveRol\": () => /* reexport safe */ _removeRol_js__WEBPACK_IMPORTED_MODULE_15__.default,\n/* harmony export */   \"MySystem\": () => /* reexport safe */ _mysystem_js__WEBPACK_IMPORTED_MODULE_16__.default,\n/* harmony export */   \"RoleInstances\": () => /* reexport safe */ _roleinstances_js__WEBPACK_IMPORTED_MODULE_17__.default,\n/* harmony export */   \"roleInstance\": () => /* reexport safe */ _roleinstance_js__WEBPACK_IMPORTED_MODULE_18__.default,\n/* harmony export */   \"RoleInstanceIterator\": () => /* reexport safe */ _roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_19__.default,\n/* harmony export */   \"PerspectivesComponent\": () => /* reexport safe */ _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_20__.default,\n/* harmony export */   \"SimpleCard\": () => /* reexport safe */ _cards_js__WEBPACK_IMPORTED_MODULE_21__.SimpleCard,\n/* harmony export */   \"SimpleCardForRole\": () => /* reexport safe */ _cards_js__WEBPACK_IMPORTED_MODULE_21__.SimpleCardForRole,\n/* harmony export */   \"emptyCard\": () => /* reexport safe */ _cards_js__WEBPACK_IMPORTED_MODULE_21__.emptyCard,\n/* harmony export */   \"SetBoolAsCheckbox\": () => /* reexport safe */ _setboolascheckbox_js__WEBPACK_IMPORTED_MODULE_22__.default,\n/* harmony export */   \"CreateDropZone\": () => /* reexport safe */ _createdropzone_js__WEBPACK_IMPORTED_MODULE_23__.default,\n/* harmony export */   \"BindDropZone\": () => /* reexport safe */ _binddropzone_js__WEBPACK_IMPORTED_MODULE_24__.default,\n/* harmony export */   \"RoleTable\": () => /* reexport safe */ _roletable_js__WEBPACK_IMPORTED_MODULE_25__.default,\n/* harmony export */   \"FileDropZone\": () => /* reexport safe */ _filedropzone_js__WEBPACK_IMPORTED_MODULE_26__.default,\n/* harmony export */   \"PerspectivesContainer\": () => /* reexport safe */ _perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_27__.PerspectivesContainer,\n/* harmony export */   \"BackButton\": () => /* reexport safe */ _perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_27__.BackButton,\n/* harmony export */   \"RoleForm\": () => /* reexport safe */ _roleform_js__WEBPACK_IMPORTED_MODULE_28__.default,\n/* harmony export */   \"Invitation\": () => /* reexport safe */ _invitation_js__WEBPACK_IMPORTED_MODULE_29__.Invitation,\n/* harmony export */   \"ViewIncomingInvitation\": () => /* reexport safe */ _invitation_js__WEBPACK_IMPORTED_MODULE_29__.ViewIncomingInvitation,\n/* harmony export */   \"makeScreens\": () => /* reexport safe */ _makescreens_js__WEBPACK_IMPORTED_MODULE_30__.default,\n/* harmony export */   \"NoInstancesSwitcher\": () => /* reexport safe */ _noinstancesswitcher_js__WEBPACK_IMPORTED_MODULE_31__.default,\n/* harmony export */   \"LocalRoleSpecialisation\": () => /* reexport safe */ _localrolespecialisation_js__WEBPACK_IMPORTED_MODULE_32__.default\n/* harmony export */ });\n/* harmony import */ var _rol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rol.js */ \"./src/rol.js\");\n/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ \"./src/context.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view.js */ \"./src/view.js\");\n/* harmony import */ var _contextofrole_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contextofrole.js */ \"./src/contextofrole.js\");\n/* harmony import */ var _views_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./views.js */ \"./src/views.js\");\n/* harmony import */ var _createcontext_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createcontext.js */ \"./src/createcontext.js\");\n/* harmony import */ var _createcontext_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./createcontext_.js */ \"./src/createcontext_.js\");\n/* harmony import */ var _importContexts_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./importContexts.js */ \"./src/importContexts.js\");\n/* harmony import */ var _importTransaction_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./importTransaction.js */ \"./src/importTransaction.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\n/* harmony import */ var _externalrole_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./externalrole.js */ \"./src/externalrole.js\");\n/* harmony import */ var _createcontextinexistingrol_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./createcontextinexistingrol.js */ \"./src/createcontextinexistingrol.js\");\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\n/* harmony import */ var _screen_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./screen.js */ \"./src/screen.js\");\n/* harmony import */ var _removeBinding_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./removeBinding.js */ \"./src/removeBinding.js\");\n/* harmony import */ var _removeRol_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./removeRol.js */ \"./src/removeRol.js\");\n/* harmony import */ var _mysystem_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mysystem.js */ \"./src/mysystem.js\");\n/* harmony import */ var _roleinstances_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./roleinstances.js */ \"./src/roleinstances.js\");\n/* harmony import */ var _roleinstance_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./roleinstance.js */ \"./src/roleinstance.js\");\n/* harmony import */ var _roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./roleinstanceiterator.js */ \"./src/roleinstanceiterator.js\");\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _cards_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./cards.js */ \"./src/cards.js\");\n/* harmony import */ var _setboolascheckbox_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./setboolascheckbox.js */ \"./src/setboolascheckbox.js\");\n/* harmony import */ var _createdropzone_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./createdropzone.js */ \"./src/createdropzone.js\");\n/* harmony import */ var _binddropzone_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./binddropzone.js */ \"./src/binddropzone.js\");\n/* harmony import */ var _roletable_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./roletable.js */ \"./src/roletable.js\");\n/* harmony import */ var _filedropzone_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./filedropzone.js */ \"./src/filedropzone.js\");\n/* harmony import */ var _perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./perspectivescontainer.js */ \"./src/perspectivescontainer.js\");\n/* harmony import */ var _roleform_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./roleform.js */ \"./src/roleform.js\");\n/* harmony import */ var _invitation_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./invitation.js */ \"./src/invitation.js\");\n/* harmony import */ var _makescreens_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./makescreens.js */ \"./src/makescreens.js\");\n/* harmony import */ var _noinstancesswitcher_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./noinstancesswitcher.js */ \"./src/noinstancesswitcher.js\");\n/* harmony import */ var _localrolespecialisation_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./localrolespecialisation.js */ \"./src/localrolespecialisation.js\");\n// Compents that are not in use in InPlace or in perspectives-screens are commented out.\n\n\n\n\n // export {default as SetProperty} from \"./setproperty.js\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://perspectives-react/./src/perspectives-react-components.js?");

/***/ }),

/***/ "./src/perspectivescomponent.js":
/*!**************************************!*\
  !*** ./src/perspectivescomponent.js ***!
  \**************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ PerspectivesComponent\n/* harmony export */ });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\"); //1\n\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\nvar Component = React.PureComponent;\n\nvar PerspectivesComponent = /*#__PURE__*/function (_Component) {\n  _inherits(PerspectivesComponent, _Component);\n\n  var _super = _createSuper(PerspectivesComponent);\n\n  function PerspectivesComponent(props) {\n    var _this;\n\n    _classCallCheck(this, PerspectivesComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    _this.unsubscribers = [];\n    _this.__mounted__ = true;\n    return _this;\n  } // componentDidMount ()\n  // {\n  //   this.__mounted__ = true;\n  //   super.componentDidMount();\n  // }\n\n\n  _createClass(PerspectivesComponent, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var component = this;\n      this.__mounted__ = false;\n      Perspectives.then(function (pproxy) {\n        component.unsubscribers.forEach(function (unsubscriber) {\n          unsubscriber.request = \"Unsubscribe\";\n          pproxy.send(unsubscriber, function () {});\n        });\n      });\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(updater, optionalCallback) {\n      if (this.__mounted__) {\n        _get(_getPrototypeOf(PerspectivesComponent.prototype), \"setState\", this).call(this, updater, optionalCallback);\n      }\n    } // A single component may perform multiple calls through the API. All of these may connect a callback\n    // to the dependency network in the core. When the component unmounts, it should inform the core that\n    // these callbacks can be unsubscribed. This is what we use the unsubscriber for.\n\n  }, {\n    key: \"addUnsubscriber\",\n    value: function addUnsubscriber(unsubscriber) {\n      if (unsubscriber) {\n        this.unsubscribers.push(unsubscriber);\n      }\n    }\n  }, {\n    key: \"stateIsComplete\",\n    value: function stateIsComplete() {\n      var component = this;\n      var isComplete = true;\n      Object.keys(component.state).forEach(function (prop) {\n        if (!component.state[prop] && typeof component.state[prop] != \"boolean\") // if ( !component.state.hasOwnProperty(prop) )\n          {\n            isComplete = false;\n          }\n      });\n      return isComplete;\n    }\n  }, {\n    key: \"stateIsEmpty\",\n    value: function stateIsEmpty() {\n      return Object.keys(this.state).length === 0;\n    }\n  }]);\n\n  return PerspectivesComponent;\n}(Component);\n\n\n\n//# sourceURL=webpack://perspectives-react/./src/perspectivescomponent.js?");

/***/ }),

/***/ "./src/perspectivescontainer.js":
/*!**************************************!*\
  !*** ./src/perspectivescontainer.js ***!
  \**************************************/
/*! namespace exports */
/*! export BackButton [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PerspectivesContainer [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PerspectivesContainer\": () => /* binding */ PerspectivesContainer,\n/* harmony export */   \"BackButton\": () => /* binding */ BackButton\n/* harmony export */ });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _screen_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./screen.js */ \"./src/screen.js\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar Component = React.PureComponent;\n\n\n // Embed the React component that embodies a users' perspectives on a context type in a PerspectivesContainer\n// to add functionality to open a subcontext and navigate back to it again.\n// Navigating is event-based:\n//  - Dispatch `OpenContext` with a payload that identifies the context instance to open\n//  - Dispatch `BackToEnclosingContext` without payload to navigate back.\n\nvar PerspectivesContainer = /*#__PURE__*/function (_Component) {\n  _inherits(PerspectivesContainer, _Component);\n\n  var _super = _createSuper(PerspectivesContainer);\n\n  function PerspectivesContainer(props) {\n    var _this;\n\n    _classCallCheck(this, PerspectivesContainer);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      selectedSubContext: undefined\n    };\n    _this.containerRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(PerspectivesContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      this.containerRef.current.addEventListener(\"OpenContext\", function (e) {\n        component.setState({\n          selectedSubContext: e.detail\n        });\n        e.stopPropagation();\n      });\n      this.containerRef.current.addEventListener(\"BackToEnclosingContext\", function (e) {\n        if (component.state.selectedSubContext) {\n          component.setState({\n            selectedSubContext: undefined\n          });\n          e.stopPropagation();\n        } // If this component had not already opened a subcontext, this event is targeted for its parent.\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this; // Move all props given to PerspectivesContainer, except for the children, to Container.\n\n      var props = {};\n      Object.assign(props, component.props);\n      props.children = undefined;\n      return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Container, _extends({\n        ref: component.containerRef\n      }, props), component.state.selectedSubContext ? /*#__PURE__*/React.createElement(_screen_js__WEBPACK_IMPORTED_MODULE_1__.default, {\n        rolinstance: component.state.selectedSubContext\n      }) : component.props.children);\n    }\n  }]);\n\n  return PerspectivesContainer;\n}(Component); // Use like this:\n//  <BackButton buttontext=\"Back to all chats\"/>\n\nfunction BackButton(props) {\n  var ref = React.createRef();\n\n  function back() {\n    ref.current.dispatchEvent(new CustomEvent(\"BackToEnclosingContext\", {\n      bubbles: true\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Button, {\n    ref: ref,\n    href: \"#\",\n    onClick: function onClick(e) {\n      return back();\n    }\n  }, props.buttontext);\n}\nBackButton.propTypes = {\n  buttontext: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().string.isRequired)\n};\n\n//# sourceURL=webpack://perspectives-react/./src/perspectivescontainer.js?");

/***/ }),

/***/ "./src/reactcontexts.js":
/*!******************************!*\
  !*** ./src/reactcontexts.js ***!
  \******************************/
/*! namespace exports */
/*! export AppContext [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PSContext [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PSProperty [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PSRol [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PSRoleInstances [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PSView [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PSContext\": () => /* binding */ PSContext,\n/* harmony export */   \"PSRoleInstances\": () => /* binding */ PSRoleInstances,\n/* harmony export */   \"PSRol\": () => /* binding */ PSRol,\n/* harmony export */   \"PSView\": () => /* binding */ PSView,\n/* harmony export */   \"PSProperty\": () => /* binding */ PSProperty,\n/* harmony export */   \"AppContext\": () => /* binding */ AppContext\n/* harmony export */ });\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PSContext = React.createContext({\n  contextinstance: \"\",\n  contexttype: \"\",\n  myroletype: \"\"\n});\nvar PSRoleInstances = React.createContext({\n  contextinstance: \"\",\n  contexttype: \"\",\n  rol: \"\",\n  roltype: \"\",\n  instances: [],\n  cursor: \"\",\n  setcursor: function setcursor() {},\n  createRole: function createRole() {\n    console.warn(\"Default (no-op) createRole called. You likely miss a PSRoleInstances.Provider!\");\n  },\n  bind: function bind() {\n    console.warn(\"Default (no-op) bind called. You likely miss a PSRoleInstances.Provider!\");\n  },\n  checkbinding: function checkbinding() {\n    console.warn(\"Default (no-op) checkbinding called. You likely miss a PSRol.Provider or PSRoleInstances.Provider!\");\n  }\n});\nvar PSRol = React.createContext({\n  contextinstance: \"\",\n  contexttype: \"\",\n  roltype: \"\",\n  bind_: function bind_() {\n    console.warn(\"Default (no-op) bind_ called. You likely miss a PSRol.Provider!\");\n  },\n  checkbinding: function checkbinding() {\n    console.warn(\"Default (no-op) checkbinding called. You likely miss a PSRoleInstances.Provider or PSRol.Provider!\");\n  },\n  removerol: function removerol() {\n    console.warn(\"Default (no-op) removerol called. You likely miss a PSRol.Provider!\");\n  },\n  rolinstance: \"\",\n  isselected: false\n});\nvar PSView = React.createContext({\n  contextinstance: \"\",\n  contexttype: \"\",\n  rolinstance: \"\",\n  roltype: \"\",\n  viewproperties: [],\n  propval: function propval() {},\n  propset: function propset() {},\n  propdel: function propdel() {} // And there will be a member for each property, holding its values.\n\n});\nvar PSProperty = React.createContext({\n  defaultValue: \"\",\n  setvalue: function setvalue() {}\n});\nvar AppContext = React.createContext({\n  setSelectedCard: function setSelectedCard() {},\n  selectedCard: undefined,\n  selectedRole: undefined\n});\n\n//# sourceURL=webpack://perspectives-react/./src/reactcontexts.js?");

/***/ }),

/***/ "./src/removeBinding.js":
/*!******************************!*\
  !*** ./src/removeBinding.js ***!
  \******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ RemoveBinding\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\nfunction RemoveBinding(props) {\n  return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__.PSContext.Consumer, null, function (pscontext) {\n    return /*#__PURE__*/React.createElement(RemoveBinding_, {\n      myroletype: pscontext.myroletype\n    }, props.children);\n  });\n}\n\nvar RemoveBinding_ = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(RemoveBinding_, _PerspectivesComponen);\n\n  var _super = _createSuper(RemoveBinding_);\n\n  function RemoveBinding_() {\n    _classCallCheck(this, RemoveBinding_);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(RemoveBinding_, [{\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return React.Children.map(component.props.children, function (child) {\n        return React.cloneElement(child, {\n          // Can be applied to a PSRol context type.\n          removeBinding: function removeBinding(_ref) {\n            var rolinstance = _ref.rolinstance;\n            Perspectives.then(function (pproxy) {\n              pproxy.removeBinding(rolinstance, component.props.myroletype);\n            });\n          }\n        });\n      });\n    }\n  }]);\n\n  return RemoveBinding_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default); // RemoveBinding passes on to the props of its children:\n// removeBinding\n\n//# sourceURL=webpack://perspectives-react/./src/removeBinding.js?");

/***/ }),

/***/ "./src/removeRol.js":
/*!**************************!*\
  !*** ./src/removeRol.js ***!
  \**************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ RemoveRol\n/* harmony export */ });\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\nfunction RemoveRol(props) {\n  return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_0__.PSContext.Consumer, null, function (pscontext) {\n    return /*#__PURE__*/React.createElement(RemoveRol_, {\n      myroletype: pscontext.myroletype\n    }, props.children);\n  });\n}\n\nvar RemoveRol_ = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(RemoveRol_, _PerspectivesComponen);\n\n  var _super = _createSuper(RemoveRol_);\n\n  function RemoveRol_() {\n    _classCallCheck(this, RemoveRol_);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(RemoveRol_, [{\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return React.Children.map(component.props.children, function (child) {\n        return React.cloneElement(child, {\n          // Should be applied to a PSRol object.\n          removerol: function removerol(_ref) {\n            var contexttype = _ref.contexttype,\n                roltype = _ref.roltype,\n                rolinstance = _ref.rolinstance;\n            Perspectives.then(function (pproxy) {\n              pproxy.removeRol(contexttype, roltype, rolinstance, component.props.myroletype);\n            });\n          }\n        });\n      });\n    }\n  }]);\n\n  return RemoveRol_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_1__.default);\n\n//# sourceURL=webpack://perspectives-react/./src/removeRol.js?");

/***/ }),

/***/ "./src/rol.js":
/*!********************!*\
  !*** ./src/rol.js ***!
  \********************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Rol\n/* harmony export */ });\n/* harmony import */ var _roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./roleinstanceiterator.js */ \"./src/roleinstanceiterator.js\");\n/* harmony import */ var _roleinstances_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./roleinstances.js */ \"./src/roleinstances.js\");\n/* harmony import */ var _createdropzone_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./createdropzone.js */ \"./src/createdropzone.js\");\n/* harmony import */ var _noinstancesswitcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./noinstancesswitcher */ \"./src/noinstancesswitcher.js\");\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\n\n\n\n\nfunction Rol(props) {\n  var ariaLabel = props.ariaLabel ? props.ariaLabel : \"Drop a role here\";\n\n  if (props.allowExtension) {\n    return /*#__PURE__*/React.createElement(_roleinstances_js__WEBPACK_IMPORTED_MODULE_1__.default, {\n      rol: props.rol\n    }, /*#__PURE__*/React.createElement(_createdropzone_js__WEBPACK_IMPORTED_MODULE_2__.default, {\n      ariaLabel: ariaLabel\n    }, /*#__PURE__*/React.createElement(_noinstancesswitcher__WEBPACK_IMPORTED_MODULE_3__.default, null, /*#__PURE__*/React.createElement(\"p\", null, ariaLabel), /*#__PURE__*/React.createElement(_roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_0__.default, null, props.children))));\n  } else {\n    return /*#__PURE__*/React.createElement(_roleinstances_js__WEBPACK_IMPORTED_MODULE_1__.default, {\n      rol: props.rol\n    }, /*#__PURE__*/React.createElement(_roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_0__.default, null, props.children));\n  }\n}\nRol.propTypes = {\n  \"rol\": PropTypes.string.isRequired,\n  ariaLabel: PropTypes.string\n};\n\n//# sourceURL=webpack://perspectives-react/./src/rol.js?");

/***/ }),

/***/ "./src/roleform.js":
/*!*************************!*\
  !*** ./src/roleform.js ***!
  \*************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ RoleForm\n/* harmony export */ });\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\n/* harmony import */ var _rol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rol.js */ \"./src/rol.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view.js */ \"./src/view.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\n/* harmony import */ var _externalrole_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./externalrole.js */ \"./src/externalrole.js\");\n/* harmony import */ var _binddropzone_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./binddropzone.js */ \"./src/binddropzone.js\");\n/* harmony import */ var _roleinstance_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./roleinstance.js */ \"./src/roleinstance.js\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__);\nvar React = __webpack_require__(/*! react */ \"react\");\n\n\n\n\n\n\n\n\n\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\"); ////////////////////////////////////////////////////////////////////////////////\n// ROLEFORM\n////////////////////////////////////////////////////////////////////////////////\n\n\nfunction RoleForm(props) {\n  function roleForm(psview) {\n    var DraggableCard;\n    var cardProp = props.cardprop;\n\n    if (cardProp) {\n      DraggableCard = (0,_roleinstance_js__WEBPACK_IMPORTED_MODULE_6__.default)(React.forwardRef(function (props, ref) {\n        return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_3__.PSView.Consumer, null, function (value) {\n          return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Card, {\n            ref: ref,\n            \"aria-label\": value.propval(cardProp)\n          }, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Card.Body, null, /*#__PURE__*/React.createElement(\"p\", null, value.propval(cardProp))));\n        });\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(_binddropzone_js__WEBPACK_IMPORTED_MODULE_5__.default, {\n      ariaLabel: \"To set this contract to a particular user, drag his or her card over here and drop it.\"\n    }, psview.viewproperties.map(function (propName) {\n      var localName = (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_0__.deconstructLocalName)(propName);\n      return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Form.Group, {\n        as: react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Row,\n        key: propName\n      }, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Form.Label, {\n        column: true,\n        sm: \"3\"\n      }, localName), /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Col, {\n        sm: \"9\"\n      }, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Form.Control, {\n        \"aria-label\": localName,\n        defaultValue: psview.propval(propName),\n        onBlur: function onBlur(e) {\n          return psview.propset(propName, e.target.value);\n        }\n      })));\n    }), cardProp !== undefined ? /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Row, null, /*#__PURE__*/React.createElement(DraggableCard, {\n      labelProperty: \"cardProp\"\n    })) : /*#__PURE__*/React.createElement(\"div\", null));\n  }\n\n  if (props.rolename == \"External\") {\n    return /*#__PURE__*/React.createElement(_externalrole_js__WEBPACK_IMPORTED_MODULE_4__.default, null, /*#__PURE__*/React.createElement(_view_js__WEBPACK_IMPORTED_MODULE_2__.default, {\n      viewname: props.viewname\n    }, /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_3__.PSView.Consumer, null, roleForm)));\n  } else {\n    return /*#__PURE__*/React.createElement(_rol_js__WEBPACK_IMPORTED_MODULE_1__.default, {\n      rol: props.rolename\n    }, /*#__PURE__*/React.createElement(_view_js__WEBPACK_IMPORTED_MODULE_2__.default, {\n      viewname: props.viewname\n    }, /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_3__.PSView.Consumer, null, roleForm)));\n  }\n}\nRoleForm.propTypes = {\n  viewname: PropTypes.string.isRequired,\n  rolename: PropTypes.string.isRequired,\n  cardprop: PropTypes.string\n};\n\n//# sourceURL=webpack://perspectives-react/./src/roleform.js?");

/***/ }),

/***/ "./src/roleinstance.js":
/*!*****************************!*\
  !*** ./src/roleinstance.js ***!
  \*****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ roleInstance\n/* harmony export */ });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\n\n\n\n ////////////////////////////////////////////////////////////////////////////////\n// ROLEINSTANCE\n////////////////////////////////////////////////////////////////////////////////\n// The result of roleInstance is a Component that wraps a displaying component with behaviour.\n// The displaying component is draggable and selectable.\n// It can also be selected with tab.\n// Once it has focus, 'enter' and 'space' will select this element as the cursor\n// of a surrounding Rol.\n// Use shift in combination with 'enter' and 'space' instead to simulate a click on\n// the CardComponent.\n// CardComponent should be constructed with React.forwardRef.\n\nfunction roleInstance(CardComponent) {\n  var RoleInstance = /*#__PURE__*/function (_PerspectivesComponen) {\n    _inherits(RoleInstance, _PerspectivesComponen);\n\n    var _super = _createSuper(RoleInstance);\n\n    function RoleInstance(props) {\n      var _this;\n\n      _classCallCheck(this, RoleInstance);\n\n      _this = _super.call(this, props); // This is a reference to the DOM element that displays the card itself.\n      // It will be passed on to CardComponent through its `ref` prop.\n      // We need it to send a click to the card to trigger its custom behaviour such as opening a context.\n      // We need it to select the card (so it moves to the clipboard).\n\n      _this.cardRef = React.createRef(); // This is the reference to the div DOM element that will be dragged and dropped.\n      // It receives focus and is used to dispatch the SetCursor custom event.\n\n      _this.roleInstanceRef = React.createRef();\n      _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n      _this.setCursor = _this.setCursor.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(RoleInstance, [{\n      key: \"handleKeyDown\",\n      value: function handleKeyDown(event, setSelectedCard) {\n        var component = this;\n\n        switch (event.keyCode) {\n          case 13: // Enter\n\n          case 32:\n            // space\n            if (event.shiftKey) {\n              // Click card to trigger custom behaviour associated with it,\n              // like opening a context.\n              this.cardRef.current.dispatchEvent(new MouseEvent(\"click\", {\n                bubbles: true,\n                cancelable: true,\n                view: window\n              }));\n            } else {\n              setSelectedCard(component.cardRef.current, component.context.rolinstance, component.context.roltype, component.context.contexttype);\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n            break;\n\n          case 8:\n            // Backspace\n            component.context.removerol();\n            event.preventDefault();\n            event.stopPropagation();\n            break;\n        }\n      }\n    }, {\n      key: \"setCursor\",\n      value: function setCursor(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.roleInstanceRef.current.dispatchEvent(new CustomEvent('SetCursor', {\n          detail: this.context.rolinstance,\n          bubbles: true\n        }));\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var component = this;\n\n        if (component.context.isselected) {\n          this.roleInstanceRef.current.focus();\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var component = this;\n        var props = Object.assign({\n          ref: component.cardRef\n        }, component.props);\n        return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_2__.AppContext.Consumer, null, function (value) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            draggable: true,\n            \"aria-label\": component.props.label,\n            tabIndex: component.context.isselected ? \"0\" : \"-1\",\n            ref: component.roleInstanceRef,\n            key: component.context.rolinstance,\n            onDragStart: function onDragStart(ev) {\n              return ev.dataTransfer.setData(\"PSRol\", JSON.stringify(component.context));\n            },\n            onKeyDown: function onKeyDown(ev) {\n              return component.handleKeyDown(ev, value.setSelectedCard);\n            },\n            onClick: component.setCursor,\n            className: \"mb-2\",\n            onFocus: component.setCursor\n          }, /*#__PURE__*/React.createElement(CardComponent, props));\n        });\n      }\n    }]);\n\n    return RoleInstance;\n  }(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_1__.default);\n\n  RoleInstance.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_2__.PSRol;\n  RoleInstance.propTypes = {\n    labelProperty: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().string.isRequired)\n  };\n  return RoleInstance;\n}\n\n//# sourceURL=webpack://perspectives-react/./src/roleinstance.js?");

/***/ }),

/***/ "./src/roleinstanceiterator.js":
/*!*************************************!*\
  !*** ./src/roleinstanceiterator.js ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ RoleInstanceIterator\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n // WHen there is more than one child, the first child is taken to be the default one.\n// If there are no role instances, the default child is rendered in a PSRolBinding context that has bind.\n// If there are instances, the other children are rendered in a PSRol context that has both bind and bind_.\n\nfunction RoleInstanceIterator(props) {\n  return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext.Consumer, null, function (pscontext) {\n    return /*#__PURE__*/React.createElement(RoleInstanceIterator_, {\n      myroletype: pscontext.myroletype\n    }, props.children);\n  });\n}\n\nvar RoleInstanceIterator_ = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(RoleInstanceIterator_, _PerspectivesComponen);\n\n  var _super = _createSuper(RoleInstanceIterator_);\n\n  function RoleInstanceIterator_(props) {\n    var _this;\n\n    _classCallCheck(this, RoleInstanceIterator_);\n\n    _this = _super.call(this, props);\n    _this.state.instances = undefined;\n    _this.state.cursor = undefined;\n    return _this;\n  } // Compute a PSRol instance for the rolInstance.\n\n\n  _createClass(RoleInstanceIterator_, [{\n    key: \"computeInstanceData\",\n    value: function computeInstanceData(rolInstance, rolBindingContext) {\n      var component = this;\n\n      function bind_(rolInstance) {\n        return function (_ref) {\n          var rolinstance = _ref.rolinstance;\n\n          if (rolinstance) {\n            // checkBinding( <contexttype>, <localRolName>, <binding>, [() -> undefined] )\n            Perspectives.then(function (pproxy) {\n              pproxy.checkBinding(component.context.contexttype, component.context.roltype, rolinstance, function (psbool) {\n                if (psbool[0] === \"true\") {\n                  pproxy.bind_(rolInstance, rolinstance, component.props.myroletype, function (rolId) {});\n                } else {\n                  alert(\"Cannot bind_!\");\n                }\n              });\n            });\n          }\n        };\n      }\n\n      return {\n        contextinstance: component.context.contextinstance,\n        contexttype: component.context.contexttype,\n        roltype: component.context.roltype,\n        bind: rolBindingContext.bind,\n        bind_: bind_(rolInstance),\n        checkbinding: rolBindingContext.checkbinding,\n        removerol: function removerol() {\n          Perspectives.then(function (pproxy) {\n            pproxy.removeRol(component.context.contexttype, component.context.roltype, rolInstance, component.props.myroletype);\n          });\n        },\n        rolinstance: rolInstance,\n        isselected: component.context.cursor === rolInstance\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      var updater = {\n        rolBindingContext: {\n          contextinstance: component.context.contextinstance,\n          contexttype: component.context.contexttype,\n          bind: function bind(_ref2) {\n            var rolinstance = _ref2.rolinstance;\n\n            if (rolinstance) {\n              Perspectives.then(function (pproxy) {\n                pproxy.checkBinding(component.context.contexttype, component.context.roltype, rolinstance, function (psbool) {\n                  if (psbool[0] === \"true\") {\n                    pproxy.bind(component.context.contextinstance, component.context.roltype, component.context.contexttype, {\n                      properties: {},\n                      binding: rolinstance\n                    }, component.context.myroletype, function (rolId) {});\n                  } else {\n                    alert(\"Cannot bind!\");\n                  }\n                });\n              }); // checkBinding( <contexttype>, <localRolName>, <binding>, [() -> undefined] )\n            }\n          },\n          checkbinding: function checkbinding(_ref3, callback) {\n            var rolinstance = _ref3.rolinstance;\n            Perspectives.then(function (pproxy) {\n              // checkBinding( <contexttype>, <localRolName>, <binding>, [() -> undefined] )\n              pproxy.checkBinding(component.context.contexttype, component.context.roltype, rolinstance, function (psbool) {\n                callback(psbool[0] === \"true\");\n              });\n            });\n          }\n        },\n        instances: component.context.instances,\n        cursor: component.context.cursor\n      };\n      component.context.instances.forEach(function (rolInstance) {\n        updater[rolInstance] = component.computeInstanceData(rolInstance, updater.rolBindingContext);\n      });\n      component.setState(updater);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      function equalArrays(array1, array2) {\n        return array1.length === array2.length && array1.every(function (value, index) {\n          return value === array2[index];\n        });\n      }\n\n      var component = this,\n          previousCursor = component.state.cursor,\n          currentCursor = component.context.cursor;\n      var updater = {};\n\n      if (!equalArrays(component.context.instances, component.state.instances)) {\n        updater = {\n          instances: component.context.instances\n        };\n        component.context.instances.forEach(function (rolInstance) {\n          updater[rolInstance] = component.computeInstanceData(rolInstance, component.state.rolBindingContext);\n        });\n        component.setState(updater);\n      } // If only the cursor has changed, we just recompute the corresponding element.\n\n\n      if (currentCursor !== previousCursor) {\n        updater[previousCursor] = component.computeInstanceData(previousCursor, component.state.rolBindingContext);\n        updater[currentCursor] = component.computeInstanceData(currentCursor, component.state.rolBindingContext);\n        updater.cursor = currentCursor;\n        component.setState(updater);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      var defaultElement, children;\n\n      if (component.stateIsComplete()) {\n        if (React.Children.count(component.props.children) == 1) {\n          children = component.props.children;\n        } else {\n          children = React.Children.toArray(component.props.children);\n          defaultElement = children[0];\n          children = children.slice(1);\n        } // By using the previous instances, we make sure React does not update the children.\n\n\n        if (component.state.instances.length == 0) {\n          if (defaultElement) {\n            return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRolBinding.Provider, {\n              value: component.state.rolBindingContext\n            }, defaultElement);\n          } else {\n            return null;\n          }\n        } else {\n          return component.state.instances.map(function (rolInstance) {\n            return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRol.Provider, {\n              key: rolInstance,\n              value: component.state[rolInstance]\n            }, children);\n          });\n        }\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return RoleInstanceIterator_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nRoleInstanceIterator_.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRoleInstances;\nRoleInstanceIterator_.propTypes = {};\n\n//# sourceURL=webpack://perspectives-react/./src/roleinstanceiterator.js?");

/***/ }),

/***/ "./src/roleinstances.js":
/*!******************************!*\
  !*** ./src/roleinstances.js ***!
  \******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ RoleInstances\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\n\nvar RoleInstances = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(RoleInstances, _PerspectivesComponen);\n\n  var _super = _createSuper(RoleInstances);\n\n  function RoleInstances(props) {\n    var _this;\n\n    _classCallCheck(this, RoleInstances);\n\n    _this = _super.call(this, props);\n\n    var component = _assertThisInitialized(_this);\n\n    component.state.instances = undefined;\n    _this.eventDiv = React.createRef();\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RoleInstances, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        function bind(_ref) {\n          var rolinstance = _ref.rolinstance;\n\n          if (rolinstance) {\n            // checkBinding( <contexttype>, <localRolName>, <binding>, [() -> undefined] )\n            pproxy.checkBinding(component.context.contexttype, component.props.rol, rolinstance, function (psbool) {\n              if (psbool[0] === \"true\") {\n                pproxy.bind(component.context.contextinstance, component.props.rol, component.context.contexttype, {\n                  properties: {},\n                  binding: rolinstance\n                }, component.context.myroletype, function ()\n                /*rolId*/\n                {});\n              } else {\n                alert(\"Cannot bind!\");\n              }\n            });\n          }\n        }\n\n        function checkbinding(_ref2, callback) {\n          var rolinstance = _ref2.rolinstance;\n          // checkBinding( <contexttype>, <localRolName>, <binding>, [() -> undefined] )\n          pproxy.checkBinding(component.context.contexttype, component.props.rol, rolinstance, function (psbool) {\n            callback(psbool[0] === \"true\");\n          });\n        }\n\n        function getRol(rolTypeArr) {\n          var rolType = rolTypeArr[0];\n\n          if (!rolType) {\n            throw \"Rol: could not establish qualified name of Rol '\" + component.props.rol + \"' for Context '\" + component.context.contexttype + \"'.\";\n          } // Get the role kind. No need to unsubscribe: the result won't change.\n\n\n          pproxy.getRoleKind(rolType, function (roleKindArr) {\n            // Get role instances.\n            component.addUnsubscriber(pproxy.getRol(component.context.contextinstance, rolType, function (rolIdArr) {\n              component.setState(function (oldState) {\n                var nextCursor;\n\n                if (rolIdArr.indexOf(oldState.cursor) < 0) {\n                  nextCursor = nextCursor = rolIdArr[0] || -1;\n                } else {\n                  nextCursor = oldState.cursor;\n                }\n\n                return {\n                  contextinstance: component.context.contextinstance,\n                  contexttype: component.context.contexttype,\n                  rol: component.props.rol,\n                  roltype: rolType,\n                  instances: rolIdArr.sort(),\n                  cursor: nextCursor,\n                  setcursor: function setcursor(cr) {\n                    if (cr !== component.state.cursor) {\n                      component.setState({\n                        cursor: cr\n                      });\n                    }\n                  },\n                  createRole: function createRole(receiveResponse) {\n                    var roleKind = roleKindArr[0]; // If a ContextRole Kind, create a new context, too.\n\n                    if (roleKind == \"ContextRole\" && component.props.contexttocreate) {\n                      pproxy.createContext({\n                        id: \"\",\n                        // will be set in the core.\n                        prototype: undefined,\n                        ctype: component.props.contexttocreate,\n                        rollen: {},\n                        interneProperties: {},\n                        externeProperties: {}\n                      }, component.props.rol, component.context.contextinstance, component.context.contexttype, component.context.myroletype, function (contextAndExternalRole) {\n                        // Return the new context role identifier!\n                        receiveResponse(contextAndExternalRole[1]);\n                      });\n                    } else {\n                      pproxy.createRole(component.context.contextinstance, rolType, component.context.myroletype, function (newRoleId_) {\n                        receiveResponse(newRoleId_[0]);\n                      });\n                    }\n                  },\n                  bind: bind,\n                  checkbinding: checkbinding\n                };\n              });\n            }));\n          });\n        }\n\n        if ((0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_2__.isQualifiedName)(component.props.rol)) {\n          getRol([component.props.rol]);\n        } else {\n          component.addUnsubscriber(pproxy.getUnqualifiedRolType(component.context.contexttype, component.props.rol, getRol));\n        }\n      });\n\n      if (component.stateIsComplete()) {\n        component.eventDiv.current.addEventListener('SetCursor', function (e) {\n          component.state.setcursor(e.detail);\n          e.stopPropagation();\n        }, false);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var component = this;\n\n      if (component.stateIsComplete() && !prevState.instances) {\n        component.eventDiv.current.addEventListener('SetCursor', function (e) {\n          component.state.setcursor(e.detail);\n          e.stopPropagation();\n        }, false);\n      }\n    } // -1 if not found.\n\n  }, {\n    key: \"indexOfCurrentRole\",\n    value: function indexOfCurrentRole() {\n      return this.state.instances.indexOf(this.state.cursor);\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(event) {\n      var component = this;\n      var i = component.indexOfCurrentRole(); // keydown only occurs after the component received focus, hence if there are instances, there is a value for currentRole.\n\n      if (component.state.cursor) {\n        // Check for up/down key presses\n        switch (event.keyCode) {\n          case 40:\n            // Down arrow\n            if (i < component.state.instances.length - 1) {\n              component.state.setcursor(component.state.instances[i + 1]);\n            }\n\n            event.preventDefault();\n            break;\n\n          case 38:\n            // Up arrow\n            if (i > 0) {\n              component.state.setcursor(component.state.instances[i - 1]);\n            }\n\n            event.preventDefault();\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (component.stateIsComplete()) {\n        return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRoleInstances.Provider, {\n          value: component.state\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          ref: component.eventDiv,\n          onKeyDown: component.handleKeyPress\n        }, component.props.children));\n      } else return null;\n    }\n  }]);\n\n  return RoleInstances;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nRoleInstances.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext;\nRoleInstances.propTypes = {\n  rol: PropTypes.string.isRequired,\n  contexttocreate: PropTypes.string\n};\n\n//# sourceURL=webpack://perspectives-react/./src/roleinstances.js?");

/***/ }),

/***/ "./src/roletable.js":
/*!**************************!*\
  !*** ./src/roletable.js ***!
  \**************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ RoleTable\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\n/* harmony import */ var _roleinstances_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./roleinstances.js */ \"./src/roleinstances.js\");\n/* harmony import */ var _roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./roleinstanceiterator.js */ \"./src/roleinstanceiterator.js\");\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\n/* harmony import */ var _primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @primer/octicons-react */ \"@primer/octicons-react\");\n/* harmony import */ var _primer_octicons_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _components_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components.css */ \"./src/components.css\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\"); // 2\n\n\n\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\n\n\n\n\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\"); ////////////////////////////////////////////////////////////////////////////////\n// ROLETABLE\n////////////////////////////////////////////////////////////////////////////////\n// Context type of RoleTable is PSContext\n\n\nvar RoleTable = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(RoleTable, _PerspectivesComponen);\n\n  var _super = _createSuper(RoleTable);\n\n  function RoleTable() {\n    _classCallCheck(this, RoleTable);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(RoleTable, [{\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return /*#__PURE__*/React.createElement(_roleinstances_js__WEBPACK_IMPORTED_MODULE_2__.default, {\n        rol: component.props.roletype,\n        contexttocreate: component.props.contexttocreate\n      }, /*#__PURE__*/React.createElement(RoleTable_, {\n        viewname: component.props.viewname,\n        cardcolumn: component.props.cardcolumn\n      }), /*#__PURE__*/React.createElement(TableControls, {\n        createButton: component.props.createButton\n      }));\n    }\n  }]);\n\n  return RoleTable;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\n\nRoleTable.propTypes = {\n  \"viewname\": PropTypes.string.isRequired,\n  \"cardcolumn\": PropTypes.string.isRequired,\n  \"contexttocreate\": PropTypes.string\n};\nRoleTable.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext; // Context type of RoleTable_ is PSRoleInstances.\n\nvar RoleTable_ = /*#__PURE__*/function (_PerspectivesComponen2) {\n  _inherits(RoleTable_, _PerspectivesComponen2);\n\n  var _super2 = _createSuper(RoleTable_);\n\n  function RoleTable_(props) {\n    var _this;\n\n    _classCallCheck(this, RoleTable_);\n\n    _this = _super2.call(this, props);\n    _this.state.propertyNames = undefined;\n    _this.state.column = undefined;\n    _this.state.active = false;\n    _this.state.rowSelected = false;\n    _this.eventDiv = React.createRef();\n    _this.activateTable = _this.activateTable.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RoleTable_, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        component.addUnsubscriber(pproxy.getViewProperties(component.context.roltype, component.props.viewname, function (propertyNames) {\n          component.setState({\n            propertyNames: propertyNames,\n            column: propertyNames[0]\n          });\n        }));\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var component = this; // Do this when we've just retrieved the propertyNames for the first time\n      // and when there is a value to the ref.\n\n      if (component.eventDiv.current && !!prevState.propertyNames) {\n        component.eventDiv.current.addEventListener('SetColumn', function (e) {\n          if (e.detail !== component.state.column) {\n            component.setState({\n              column: e.detail\n            });\n          }\n\n          e.stopPropagation();\n        }, false);\n        component.eventDiv.current.addEventListener('SetSelectRow', function (e) {\n          // e.detail must be a boolean value.\n          if (e.detail) {\n            component.setState({\n              rowSelected: e.detail,\n              column: (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.getQualifiedPropertyName)(component.props.cardcolumn, component.state.propertyNames)\n            });\n          } else {\n            component.setState({\n              rowSelected: e.detail\n            });\n          }\n\n          e.stopPropagation();\n        }, false);\n      }\n    }\n  }, {\n    key: \"activateTable\",\n    value: function activateTable() {\n      var component = this;\n      component.setState({\n        active: true\n      });\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      var component = this;\n      var i = component.state.propertyNames.indexOf(component.state.column);\n\n      switch (event.keyCode) {\n        case 9: // Horizontal Tab\n\n        case 11:\n          // Vertical Tab\n          if (event.shiftKey) {// TODO. DIT WERKT NIET.\n            // If shift-tab, stop the event and throw another shift-tab.\n            // event.stopPropagation();\n            // event.preventDefault();\n            // See: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/KeyboardEvent\n            // component.eventDiv.current.dispatchEvent( new KeyboardEvent(\"keypress\", {key: \"\\t\", shiftKey: true}) );\n          } // Leaving the table.\n\n\n          component.setState({\n            active: false\n          });\n          break;\n\n        case 39:\n          // Right arrow\n          if (i < component.state.propertyNames.length - 1) {\n            component.setState({\n              column: component.state.propertyNames[i + 1]\n            });\n          }\n\n          event.stopPropagation();\n          break;\n\n        case 37:\n          // Left arrow\n          if (i > 0) {\n            component.setState({\n              column: component.state.propertyNames[i - 1]\n            });\n          }\n\n          event.stopPropagation();\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      var qualifiedColumnName;\n\n      if (component.stateIsComplete()) {\n        qualifiedColumnName = (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.getQualifiedPropertyName)(component.props.cardcolumn, component.state.propertyNames);\n        return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext.Consumer, null, function (pscontext) {\n          return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Table, {\n            responsive: true,\n            striped: true,\n            bordered: true,\n            hover: true,\n            size: \"sm\",\n            className: \"mb-0\"\n          }, /*#__PURE__*/React.createElement(\"caption\", null, \"Table for the role \", (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.deconstructLocalName)(component.context.roltype)), /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, component.state.propertyNames.map(function (pn) {\n            return /*#__PURE__*/React.createElement(\"th\", {\n              key: pn\n            }, (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.deconstructLocalName)(pn));\n          }))), /*#__PURE__*/React.createElement(\"tbody\", {\n            tabIndex: \"0\",\n            ref: component.eventDiv,\n            onFocus: component.activateTable,\n            onKeyDown: component.handleKeyDown\n          }, /*#__PURE__*/React.createElement(_roleinstanceiterator_js__WEBPACK_IMPORTED_MODULE_3__.default, null, /*#__PURE__*/React.createElement(TableRow, {\n            propertynames: component.state.propertyNames,\n            myroletype: pscontext.myroletype,\n            column: component.state.column,\n            tableisactive: component.state.active,\n            cardcolumn: qualifiedColumnName,\n            rowSelected: component.state.rowSelected\n          }))));\n        });\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return RoleTable_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nRoleTable_.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRoleInstances; ////////////////////////////////////////////////////////////////////////////////\n// TABLEROW\n////////////////////////////////////////////////////////////////////////////////\n\nvar TableRow = /*#__PURE__*/function (_PerspectivesComponen3) {\n  _inherits(TableRow, _PerspectivesComponen3);\n\n  var _super3 = _createSuper(TableRow);\n\n  function TableRow(props) {\n    _classCallCheck(this, TableRow);\n\n    return _super3.call(this, props);\n  }\n\n  _createClass(TableRow, [{\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      return /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSContext.Consumer, null, function (pscontext) {\n        return /*#__PURE__*/React.createElement(\"tr\", null, component.props.propertynames.map(function (pn) {\n          return /*#__PURE__*/React.createElement(TableCell, {\n            key: pn,\n            propertyname: pn,\n            iscard: pn == component.props.cardcolumn,\n            psrol: component.context,\n            myroletype: pscontext.myroletype,\n            isselected: component.props.tableisactive && !!component.context.isselected && component.props.column == pn,\n            rowSelected: component.props.rowSelected\n          });\n        }));\n      });\n    }\n  }]);\n\n  return TableRow;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nTableRow.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRol;\nTableRow.propTypes = {\n  propertynames: PropTypes.arrayOf(PropTypes.string),\n  myroletype: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  tableisactive: PropTypes.bool.isRequired,\n  cardcolumn: PropTypes.string.isRequired,\n  rowSelected: PropTypes.bool.isRequired\n}; ////////////////////////////////////////////////////////////////////////////////\n// TABLECELL\n////////////////////////////////////////////////////////////////////////////////\n\n/*\n * Renders a Form.Control, fetches the value for propertyname on roleinstance,\n * sets a new value if the content of the control has changed on losing focus.\n*/\n\nvar TableCell = /*#__PURE__*/function (_PerspectivesComponen4) {\n  _inherits(TableCell, _PerspectivesComponen4);\n\n  var _super4 = _createSuper(TableCell);\n\n  function TableCell(props) {\n    var _this2;\n\n    _classCallCheck(this, TableCell);\n\n    _this2 = _super4.call(this, props); // value is an array of strings.\n\n    _this2.state.value = undefined;\n    _this2.state.editable = false;\n    _this2.state.cardIsSelected = false;\n    _this2.handleClick = _this2.handleClick.bind(_assertThisInitialized(_this2));\n    _this2.handleKeyDown = _this2.handleKeyDown.bind(_assertThisInitialized(_this2)); // A reference to the Form.Control that handles input.\n    // It is used to dispatch the custom SetCursor and SetColumn events.\n    // It also receives focus.\n\n    _this2.inputRef = React.createRef();\n    return _this2;\n  }\n\n  _createClass(TableCell, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        component.addUnsubscriber(pproxy.getProperty(component.props.psrol.rolinstance, component.props.propertyname, component.props.psrol.roltype, function (propertyValues) {\n          component.setState({\n            value: propertyValues\n          });\n        }));\n      });\n    } // val is a string.\n    // Notice that this makes the value of the property equal to [val], whatever\n    // the previous value was.\n\n  }, {\n    key: \"changeValue\",\n    value: function changeValue(val) {\n      var component = this;\n\n      if (component.state.value.length != 1 || component.state.value[0] != val) {\n        Perspectives.then(function (pproxy) {\n          pproxy.setProperty(component.props.psrol.rolinstance, component.props.propertyname, val, component.props.myroletype);\n        });\n      }\n    } // Set the cursor in the surrounding RoleInstances, set the column in the RoleTable_.\n    // React will then re-render, giving TableCell the value true for the isselected prop.\n    // Only called in click handlers.\n    // When used with shift, selects the card instead.\n\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var component = this;\n      event.preventDefault();\n      event.stopPropagation(); // If selected, open the context.\n\n      if (component.props.rowSelected) {\n        // Open context.\n        component.inputRef.current.dispatchEvent(new CustomEvent('OpenContext', {\n          detail: component.props.psrol.rolinstance,\n          bubbles: true\n        }));\n      } else if (event.shiftKey) {\n        this.inputRef.current.dispatchEvent(new CustomEvent('SetCursor', {\n          detail: this.props.psrol.rolinstance,\n          bubbles: true\n        }));\n        this.inputRef.current.dispatchEvent(new CustomEvent('SetColumn', {\n          detail: this.props.propertyname,\n          bubbles: true\n        }));\n        this.inputRef.current.dispatchEvent(new CustomEvent('SetSelectRow', {\n          detail: true,\n          bubbles: true\n        }));\n      } else {\n        this.inputRef.current.dispatchEvent(new CustomEvent('SetCursor', {\n          detail: this.props.psrol.rolinstance,\n          bubbles: true\n        }));\n        this.inputRef.current.dispatchEvent(new CustomEvent('SetColumn', {\n          detail: this.props.propertyname,\n          bubbles: true\n        }));\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*, prevState*/\n    ) {\n      var component = this;\n\n      if (component.props.isselected && (!prevProps.isselected || component.props.iscard)) {\n        // Gives the Form.Control the focus, activating it.\n        component.inputRef.current.focus();\n      }\n    } // NOTE. setSelectedCard is only bound when (component.props.isselected && component.props.iscard).\n\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event, setSelectedCard) {\n      var component = this;\n\n      if (component.props.isselected && !component.state.editable) {\n        switch (event.keyCode) {\n          case 13:\n            // Return\n            if (component.props.rowSelected) {\n              if (event.shiftKey) {\n                // Open context.\n                component.inputRef.current.dispatchEvent(new CustomEvent('OpenContext', {\n                  detail: component.props.psrol.rolinstance,\n                  bubbles: true\n                }));\n              } else {\n                // card to clipboard\n                setSelectedCard(component.inputRef.current, component.props.psrol.rolinstance, component.props.psrol.roltype, component.props.psrol.contexttype);\n              }\n            } else {\n              component.setState({\n                editable: true\n              });\n              component.inputRef.current.dispatchEvent(new CustomEvent('SetSelectRow', {\n                detail: false,\n                bubbles: true\n              }));\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n            break;\n\n          case 32:\n            // Space\n            if (component.props.rowSelected) {\n              if (event.shiftKey) {\n                // Open context.\n                component.inputRef.current.dispatchEvent(new CustomEvent('OpenContext', {\n                  detail: component.props.psrol.rolinstance,\n                  bubbles: true\n                }));\n              } else {\n                // card to clipboard\n                setSelectedCard(component.inputRef.current, component.props.psrol.rolinstance, component.props.psrol.roltype, component.props.psrol.contexttype);\n              }\n            } else if (event.shiftKey) {\n              component.inputRef.current.dispatchEvent(new CustomEvent('SetSelectRow', {\n                detail: true,\n                bubbles: true\n              }));\n            } else {\n              component.setState({\n                editable: true\n              });\n              component.inputRef.current.dispatchEvent(new CustomEvent('SetSelectRow', {\n                detail: false,\n                bubbles: true\n              }));\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n            break;\n\n          case 8:\n            // backspace\n            if (component.props.rowSelected) {\n              component.props.psrol.removerol();\n              event.stopPropagation();\n              event.preventDefault();\n            }\n\n            break;\n\n          default:\n            // any other key will deselect the card.\n            component.inputRef.current.dispatchEvent(new CustomEvent('SetSelectRow', {\n              detail: false,\n              bubbles: true\n            }));\n        }\n      } else if (component.props.isselected && component.state.editable) {\n        switch (event.keyCode) {\n          case 13:\n            // Return\n            component.changeValue(event.target.value);\n            component.setState({\n              editable: false\n            });\n            event.preventDefault();\n            event.stopPropagation();\n            break;\n\n          case 27:\n            // Escape\n            component.setState({\n              editable: false\n            }); // Make the Form.Control display the original value.\n            // ReactDOM.findDOMNode(component.inputRef.current).value = component.state.value;\n\n            component.inputRef.current.value = component.state.value;\n            event.preventDefault();\n            event.stopPropagation();\n            break;\n\n          default:\n            // Let all other keys be handled by the control.\n            event.stopPropagation();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this; ////// EDITABLE\n\n      if (component.props.isselected && component.state.editable) {\n        return /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Form.Control, {\n          ref: component.inputRef,\n          \"aria-label\": (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.deconstructLocalName)(component.props.propertyname),\n          defaultValue: component.state.value,\n          onKeyDown: component.handleKeyDown,\n          onBlur: function onBlur(e) {\n            component.changeValue(e.target.value);\n            component.setState({\n              editable: false\n            });\n          },\n          onClick: component.handleClick\n        }));\n      } ///// SELECTED\n      else if (component.props.isselected) {\n          if (component.props.iscard) {\n            return /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_reactcontexts__WEBPACK_IMPORTED_MODULE_1__.AppContext.Consumer, null, function (appcontext) {\n              return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Form.Control, {\n                readOnly: true,\n                plaintext: true,\n                ref: component.inputRef,\n                tabIndex: \"-1\",\n                \"aria-label\": component.state.value,\n                onKeyDown: function onKeyDown(ev) {\n                  return component.handleKeyDown(ev, appcontext.setSelectedCard);\n                },\n                onClick: component.handleClick,\n                defaultValue: component.state.value,\n                className: component.props.rowSelected ? \"bg-info shadow\" : \"shadow\",\n                draggable: true,\n                onDragStart: function onDragStart(ev) {\n                  return ev.dataTransfer.setData(\"PSRol\", JSON.stringify(component.props.psrol));\n                }\n              });\n            }));\n          } else {\n            return /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Form.Control, {\n              readOnly: true,\n              plaintext: true,\n              ref: component.inputRef,\n              tabIndex: \"-1\",\n              \"aria-label\": (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.deconstructLocalName)(component.props.propertyname),\n              onKeyDown: component.handleKeyDown,\n              onClick: component.handleClick,\n              defaultValue: component.state.value\n            }));\n          }\n        } ///// NEITHER EDITABLE NOR SELECTED\n        else {\n            return /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Form.Control, {\n              readOnly: true,\n              plaintext: true,\n              className: component.props.iscard ? \"shadow\" : null,\n              ref: component.inputRef,\n              tabIndex: \"-1\",\n              \"aria-label\": component.state.value,\n              onClick: component.handleClick,\n              defaultValue: component.state.value\n            }));\n          }\n    }\n  }]);\n\n  return TableCell;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nTableCell.propTypes = {\n  propertyname: PropTypes.string.isRequired,\n  myroletype: PropTypes.string.isRequired,\n  isselected: PropTypes.bool.isRequired,\n  rowSelected: PropTypes.bool.isRequired,\n  iscard: PropTypes.bool.isRequired,\n  psrol: PropTypes.shape({\n    contextinstance: PropTypes.string.isRequired,\n    contexttype: PropTypes.string.isRequired,\n    roltype: PropTypes.string.isRequired,\n    bind_: PropTypes.func,\n    checkbinding: PropTypes.func,\n    removerol: PropTypes.func,\n    rolinstance: PropTypes.string.isRequired,\n    isselected: PropTypes.bool.isRequired\n  }).isRequired\n}; ////////////////////////////////////////////////////////////////////////////////\n// TABLECONTROLS\n////////////////////////////////////////////////////////////////////////////////\n\nvar TableControls = /*#__PURE__*/function (_PerspectivesComponen5) {\n  _inherits(TableControls, _PerspectivesComponen5);\n\n  var _super5 = _createSuper(TableControls);\n\n  function TableControls() {\n    _classCallCheck(this, TableControls);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(TableControls, [{\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      var component = this;\n\n      switch (event.keyCode) {\n        case 13: // Return\n\n        case 32:\n          // Space\n          component.context.createRole(function () {});\n          event.preventDefault();\n          event.stopPropagation();\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (component.props.createButton == undefined || component.props.createButton) {\n        return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Navbar, {\n          bg: \"light\",\n          expand: \"lg\",\n          role: \"banner\",\n          \"aria-label\": \"Controls for table\",\n          className: \"mb-5\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"ml-3 mr-3\",\n          tabIndex: \"0\",\n          onClick: function onClick() {\n            return component.context.createRole(function () {});\n          },\n          onKeyDown: function onKeyDown(ev) {\n            return component.handleKeyDown(ev);\n          }\n        }, /*#__PURE__*/React.createElement(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_5__.PlusIcon, {\n          alt: \"Add row\",\n          \"aria-label\": \"Click to add a row\",\n          size: \"medium\"\n        })));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return TableControls;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nTableControls.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_1__.PSRoleInstances;\nTableControls.propTypes = {\n  createButton: PropTypes.bool\n};\n\n//# sourceURL=webpack://perspectives-react/./src/roletable.js?");

/***/ }),

/***/ "./src/screen.js":
/*!***********************!*\
  !*** ./src/screen.js ***!
  \***********************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Screen\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _contextofrole_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contextofrole.js */ \"./src/contextofrole.js\");\n/* harmony import */ var _reactcontexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reactcontexts */ \"./src/reactcontexts.js\");\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\n/* harmony import */ var _perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./perspectivescontainer.js */ \"./src/perspectivescontainer.js\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\n\n\n // TODO. Even though PerspectivesGlobals has been declared external, we cannot import it here.\n// Doing so will cause a runtime error if the calling program has not put it on the global scope in time.\n// Returns a promise that resolves to an array of modules with a default export containing a React component.\n// function importScreens( roleNames, useridentifier )\n// {\n//   // modelName = model part of the roleName\n//   const modelName = deconstructModelName( roleName );\n//\n//   // PerspectivesGlobals should be available on the global scope of the program that uses this library.\n//   const url = PerspectivesGlobals.host + useridentifier + \"_models/\" + modelName + \"/screens.js\";\n//\n//   // importModule should be available on the global scope of the program that uses this library.\n//   return importModule( url );\n// }\n// Returns a promise that resolves to an array, possibly empty, of objects of the form {roleName :: String, module :: <A React Component> }.\n\nfunction importScreens(roleNames, useridentifier) {\n  var promises = roleNames.map(function (roleName) {\n    // modelName = model part of the roleName\n    var modelName = (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.deconstructModelName)(roleName); // PerspectivesGlobals should be available on the global scope of the program that uses this library.\n    // eslint-disable-next-line no-undef\n\n    var url = PerspectivesGlobals.host + useridentifier + \"_models/\" + modelName + \"/screens.js\"; // importModule should be available on the global scope of the program that uses this library.\n    // return importModule( url ).then( result => {result.roleName = roleName; return result; });\n    // eslint-disable-next-line no-undef\n\n    return importModule(url).then(function (module) {\n      return {\n        module: module,\n        roleName: roleName\n      }; // this will be bound to the \"value\" key of the Promise.allSettled result.\n    });\n  });\n  return Promise.allSettled(promises).then(function (outcomes) {\n    return outcomes.filter(function (_ref) {\n      var status = _ref.status,\n          value = _ref.value;\n      return status == \"fulfilled\" && value.module[computeScreenName(value.roleName)];\n    });\n  }).then(function (outcomesWithScreen) {\n    return outcomesWithScreen.map(function (_ref2) {\n      var value = _ref2.value;\n      return {\n        \"roleName\": value.roleName,\n        \"module\": value.module[computeScreenName(value.roleName)]\n      };\n    });\n  });\n} // > Object { status: \"fulfilled\", value: 3 }\n// > Object { status: \"rejected\", reason: \"foo\" }\n\n\nfunction computeScreenName(roleName) {\n  // Make the identifier start with lowercase and replace '$' with _ (underscore).\n  function mapName(s) {\n    var regex1 = /\\$/gi;\n    var regex2 = /^./gi;\n    return s.replace(regex1, '_').replace(regex2, s.charAt(0).toLowerCase());\n  } // screenName = local part of the roleName\n\n\n  return mapName((0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.deconstructSegments)(roleName));\n} // Screen loads the component in the context of the role `rolinstance` that it receives on its props.\n\n\nvar Screen = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(Screen, _PerspectivesComponen);\n\n  var _super = _createSuper(Screen);\n\n  function Screen(props) {\n    var _this;\n\n    _classCallCheck(this, Screen);\n\n    _this = _super.call(this, props); // This represents 'me': the 'own' user.\n\n    _this.state.useridentifier = undefined; // The role that 'me' plays in the current context. We pass it on to ContextOfRole\n    // and that component includes it in the PSContext it provides to descendants.\n\n    _this.state.myroletypes = undefined;\n    _this.state.rolinstance = undefined;\n    _this.state.modules = undefined;\n    return _this;\n  }\n\n  _createClass(Screen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        component.addUnsubscriber(pproxy.getUserIdentifier(function (userIdentifier) {\n          if ((0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_4__.isExternalRole)(component.props.rolinstance)) {\n            component.addUnsubscriber(pproxy.getMeForContext(component.props.rolinstance, function (userRoles) {\n              importScreens(userRoles, userIdentifier[0]).then(function (screenModules) {\n                return component.setState({\n                  myroletypes: userRoles,\n                  useridentifier: userIdentifier[0],\n                  rolinstance: component.props.rolinstance,\n                  modules: screenModules\n                });\n              });\n            }));\n          } else {\n            component.addUnsubscriber(pproxy.getBinding(component.props.rolinstance, function (externalRole) {\n              // If no externalRole, there is no binding.\n              // Leave the state incomplete.\n              if (externalRole[0]) {\n                component.addUnsubscriber(pproxy.getMeForContext(externalRole[0], function (userRoles) {\n                  importScreens(userRoles, userIdentifier[0]).then(function (screenModules) {\n                    return component.setState({\n                      myroletypes: userRoles,\n                      useridentifier: userIdentifier[0],\n                      rolinstance: externalRole[0],\n                      modules: screenModules\n                    });\n                  });\n                }));\n              }\n            }));\n          }\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n      var Screen, myroletype;\n\n      if (component.stateIsComplete()) {\n        if (component.state.modules.length == 1) {\n          Screen = component.state.modules[0][\"module\"];\n          myroletype = component.state.modules[0][\"roleName\"];\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_contextofrole_js__WEBPACK_IMPORTED_MODULE_2__.default, {\n            rolinstance: component.state.rolinstance,\n            myroletype: myroletype\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Screen, null));\n        } else {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"You must choose a role from \", component.state.modules.map(function (_ref3) {\n            var roleName = _ref3.roleName;\n            return roleName;\n          }).toString());\n        }\n      } else return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_5__.PerspectivesContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Col, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Card, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Card.Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Card.Title, null, \"No access\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.Card.Text, null, \"Either there is no context, or you have no role in it. Please move back!\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_perspectivescontainer_js__WEBPACK_IMPORTED_MODULE_5__.BackButton, {\n        buttontext: \"Back\"\n      }))))));\n    }\n  }]);\n\n  return Screen;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_1__.default);\n\n\nScreen.contextType = _reactcontexts__WEBPACK_IMPORTED_MODULE_3__.PSContext;\nScreen.propTypes = {\n  rolinstance: PropTypes.string.isRequired\n};\n\n//# sourceURL=webpack://perspectives-react/./src/screen.js?");

/***/ }),

/***/ "./src/setboolascheckbox.js":
/*!**********************************!*\
  !*** ./src/setboolascheckbox.js ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ SetBoolAsCheckbox\n/* harmony export */ });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ \"react-bootstrap\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);\n;\n\n\nfunction SetBoolAsCheckbox(_ref) {\n  var propertyname = _ref.propertyname,\n      label = _ref.label;\n  return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_1__.PSView.Consumer, null, function (sprops) {\n    // If the value is [], val will be false;\n    // If the value is [\"true\"], val will be true;\n    // If the value is [\"false\"], val will be false.\n    // So we have negation by failure (to have a value).\n    var val = sprops.propval(propertyname)[0] == \"true\";\n    return /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Form.Group, {\n      as: react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Row,\n      controlId: propertyname + \"_BoolAsCheckbox\"\n    }, /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Col, null, /*#__PURE__*/React.createElement(\"input\", {\n      id: propertyname + \"_BoolAsCheckbox\",\n      type: \"checkbox\",\n      defaultChecked: val ? \"checked\" : null,\n      disabled: val ? \"disabled\" : null // We start out with false and only allow changing once, so that must be to \"true\"!\n      ,\n      onChange: function onChange(e) {\n        return sprops.propset(propertyname, \"true\");\n      }\n    })), /*#__PURE__*/React.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Form.Label, null, label));\n  });\n}\nSetBoolAsCheckbox.propTypes = {\n  propertyname: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().string),\n  label: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().string),\n  val: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().bool)\n};\n\n//# sourceURL=webpack://perspectives-react/./src/setboolascheckbox.js?");

/***/ }),

/***/ "./src/urifunctions.js":
/*!*****************************!*\
  !*** ./src/urifunctions.js ***!
  \*****************************/
/*! namespace exports */
/*! export deconstructLocalName [provided] [no usage info] [missing usage info prevents renaming] */
/*! export deconstructModelName [provided] [no usage info] [missing usage info prevents renaming] */
/*! export deconstructSegments [provided] [no usage info] [missing usage info prevents renaming] */
/*! export externalRole [provided] [no usage info] [missing usage info prevents renaming] */
/*! export getQualifiedPropertyName [provided] [no usage info] [missing usage info prevents renaming] */
/*! export isExternalRole [provided] [no usage info] [missing usage info prevents renaming] */
/*! export isQualifiedName [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deconstructSegments\": () => /* binding */ deconstructSegments,\n/* harmony export */   \"deconstructLocalName\": () => /* binding */ deconstructLocalName,\n/* harmony export */   \"externalRole\": () => /* binding */ externalRole,\n/* harmony export */   \"isExternalRole\": () => /* binding */ isExternalRole,\n/* harmony export */   \"deconstructModelName\": () => /* binding */ deconstructModelName,\n/* harmony export */   \"getQualifiedPropertyName\": () => /* binding */ getQualifiedPropertyName,\n/* harmony export */   \"isQualifiedName\": () => /* binding */ isQualifiedName\n/* harmony export */ });\n// NOTE DEPENDENCIES. Code in this section is adapted from module Perspectives.Identifiers.\n// Returns \"localName\" from \"model:ModelName$localName\" or Nothing\n// deconstructSegments :: String -> String\n// NOTE DEPENDENCY. This code is adapted from module Perspectives.Identifiers.\nfunction deconstructSegments(s) {\n  var localPartsRegEx = new RegExp(\"^model:\\\\w*\\\\$(.*)$\");\n\n  try {\n    return s.match(localPartsRegEx)[1];\n  } catch (e) {\n    throw \"deconstructSegments: no local name in '\" + s + \"'.\";\n  }\n}\nfunction deconstructLocalName(s) {\n  var localNameRegEx = new RegExp(\".*\\\\$(\\\\w+)\");\n\n  try {\n    return s.match(localNameRegEx)[1];\n  } catch (e) {\n    throw \"deconstructLocalName: no local name in '\" + s + \"'.\";\n  }\n} // A Namespace has the form \"model:Name\"\n\nfunction externalRole(s) {\n  var modelRegEx = new RegExp(\"^model:(\\\\w*)$\");\n\n  if (s.match(modelRegEx)) {\n    return s + \"$_External\";\n  } else {\n    return s + \"_External\";\n  }\n}\nfunction isExternalRole(s) {\n  var r = new RegExp(\"External$\");\n  return !!s.match(r);\n} // Construct a directoryname from a modelname.\n// Each modelname must be unique.\n// It is the composition of \"model:\" and the name proper.\n// So all we need do to create a directoryname is to get the first fragment, i.e.\n// the part after \"model:\" and before the first \"$\".\n\nfunction deconstructModelName(s) {\n  var namespaceRegex = new RegExp(\"^(model:\\\\w*)\");\n  var m = s.match(namespaceRegex);\n\n  if (m) {\n    return m[1];\n  } else {\n    throw \"deconstructModelName: the string '\" + s + \"' is not a well-formed domeinURI\";\n  }\n}\nfunction getQualifiedPropertyName(localName, qualifiedNames) {\n  // Match the local propertyname given as a prop with the qualified names in context.\n  var r = new RegExp(\".*\" + localName + \"$\");\n  var n = qualifiedNames.filter(function (qn) {\n    return qn.match(r);\n  });\n\n  if (qualifiedNames.indexOf(localName) > -1) {\n    return localName;\n  }\n\n  if (n.length > 1) {\n    throw \"PROGRAMMER WARNING: '\" + localName + \"' does not uniquely identify a property. Choose one of: \" + n;\n  } else if (n == undefined || n.length == 0) {\n    throw \"PROGRAMMER WARNING: '\" + localName + \"' does not match of the properties \" + qualifiedNames;\n  } else {\n    return n[0];\n  }\n} // Is the identifier of the form `model:Domain$atLeastOneSegment`?\n\nfunction isQualifiedName(s) {\n  var qualifiedNameRegex = new RegExp(\"^model:(\\\\w*)\\\\$(.*)$\");\n  return s.match(qualifiedNameRegex);\n}\n\n//# sourceURL=webpack://perspectives-react/./src/urifunctions.js?");

/***/ }),

/***/ "./src/view.js":
/*!*********************!*\
  !*** ./src/view.js ***!
  \*********************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ View\n/* harmony export */ });\n/* harmony import */ var _perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./perspectivescomponent.js */ \"./src/perspectivescomponent.js\");\n/* harmony import */ var _urifunctions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./urifunctions.js */ \"./src/urifunctions.js\");\n/* harmony import */ var _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reactcontexts.js */ \"./src/reactcontexts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\nvar Perspectives = __webpack_require__(/*! perspectives-proxy */ \"perspectives-proxy\").Perspectives;\n\n\n\n\nfunction View(props) {\n  return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSContext.Consumer, null, function (pscontext) {\n    return /*#__PURE__*/React.createElement(View_, {\n      myroletype: pscontext.myroletype,\n      viewname: props.viewname\n    }, props.children);\n  });\n} // NOTE. If a view contains two properties whose local names are equal (even while their qualified names are unique),\n// the state of the View component will have the value of the property that was last fetched for that local name.\n// To solve this problem, use the localName rolProperty of the View (however, this has not yet been implemented).\n\nvar View_ = /*#__PURE__*/function (_PerspectivesComponen) {\n  _inherits(View_, _PerspectivesComponen);\n\n  var _super = _createSuper(View_);\n\n  function View_() {\n    _classCallCheck(this, View_);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(View_, [{\n    key: \"changeValue\",\n    value: function changeValue(ln, val) {\n      var component = this;\n      var qualifiedPropertyName = (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_1__.getQualifiedPropertyName)(ln, component.state.viewproperties);\n      var oldValue = component.state[qualifiedPropertyName];\n\n      if (oldValue.length != 1 || oldValue[0] != val) {\n        Perspectives.then(function (pproxy) {\n          pproxy.setProperty(component.state.rolinstance, qualifiedPropertyName, val, component.props.myroletype);\n        });\n      }\n    }\n  }, {\n    key: \"deleteProperty\",\n    value: function deleteProperty(ln) {\n      var component = this;\n      var qualifiedPropertyName = (0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_1__.getQualifiedPropertyName)(ln, component.state.viewproperties);\n      Perspectives.then(function (pproxy) {\n        pproxy.deleteProperty(component.state.rolinstance, qualifiedPropertyName, component.props.myroletype);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var component = this;\n      Perspectives.then(function (pproxy) {\n        if (component.props.viewname == \"allproperties\") {\n          console.warn(\"Warning: View receives prop viewname=`allproperties`. Do you mean 'allProperties'?\");\n        }\n\n        component.addUnsubscriber(pproxy.getViewProperties(component.context.roltype, component.props.viewname, function (propertyNames) {\n          // TODO. Dit is inefficient.\n          // Als er een Property bij komt of vanaf gaat, wordt voor elke Property de waarde opnieuw opgehaald.\n          // Als er n af gaat is dat al helemaal niet nodig.\n          // Komt er n bij, dan hoeven we alleen voor die nieuwe Property de waarde op te halen.\n          // We will use the state as the value of PSView.\n          // First initialize state property members, so we can check whether it is complete.\n          // NOTE: React will not notice this.\n          propertyNames.forEach(function (propertyName) {\n            component.state[propertyName] = undefined;\n          }); // Now add the viewProperties to state.\n\n          component.setState({\n            contextinstance: component.context.contextinstance,\n            contexttype: component.context.contexttype,\n            rolinstance: component.context.rolinstance,\n            roltype: component.context.roltype,\n            viewproperties: propertyNames,\n            propval: function propval(ln) {\n              return component.state[(0,_urifunctions_js__WEBPACK_IMPORTED_MODULE_1__.getQualifiedPropertyName)(ln, propertyNames)];\n            },\n            propset: function propset(ln, val) {\n              if (Array.isArray(val)) {\n                throw \"Perspectives-react, View: supply a single string value to the function 'setvalue'.\";\n              } else {\n                component.changeValue(ln, val);\n              }\n            },\n            propdel: function propdel(ln) {\n              return component.deleteProperty(ln);\n            }\n          }); // Then fetch the values of the properties, to complete the state.\n\n          propertyNames.forEach(function (propertyName) {\n            component.addUnsubscriber(pproxy.getProperty(component.context.rolinstance, propertyName, component.context.roltype, function (propertyValues) {\n              var updater = {};\n              updater[propertyName] = propertyValues;\n              component.setState(updater);\n            }));\n          });\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var component = this;\n\n      if (!component.stateIsEmpty() && component.stateIsComplete()) {\n        return /*#__PURE__*/React.createElement(_reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSView.Provider, {\n          value: component.state\n        }, component.props.children);\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return View_;\n}(_perspectivescomponent_js__WEBPACK_IMPORTED_MODULE_0__.default);\n\nView_.contextType = _reactcontexts_js__WEBPACK_IMPORTED_MODULE_2__.PSRol; // View passes on a PSView:\n\nView.propTypes = {\n  viewname: PropTypes.string.isRequired\n};\n\n//# sourceURL=webpack://perspectives-react/./src/view.js?");

/***/ }),

/***/ "./src/views.js":
/*!**********************!*\
  !*** ./src/views.js ***!
  \**********************/
/*! namespace exports */
/*! export ViewOnExternalRole [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ViewOnExternalRole\": () => /* binding */ ViewOnExternalRole\n/* harmony export */ });\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view.js */ \"./src/view.js\");\n/* harmony import */ var _externalrole_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./externalrole.js */ \"./src/externalrole.js\");\nvar React = __webpack_require__(/*! react */ \"react\");\n\nvar PropTypes = __webpack_require__(/*! prop-types */ \"prop-types\");\n\n\n // Access a View on the BuitenRol of a Context.\n\nfunction ViewOnExternalRole(props) {\n  return /*#__PURE__*/React.createElement(_externalrole_js__WEBPACK_IMPORTED_MODULE_1__.default, null, /*#__PURE__*/React.createElement(_view_js__WEBPACK_IMPORTED_MODULE_0__.default, {\n    viewname: props.viewname\n  }, props.children));\n}\nViewOnExternalRole.propTypes = {\n  viewname: PropTypes.string.isRequired\n};\n\n//# sourceURL=webpack://perspectives-react/./src/views.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components.css":
/*!******************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components.css ***!
  \******************************************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_exports__, __webpack_require__.r, module.id, __webpack_require__.d, __webpack_require__.*, module */
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n;\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Custom styles for Perspectives React components */\\n.mediumDotted{\\n  border-width: medium!important;\\n  border-style: dotted!important;\\n}\\n\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://perspectives-react/./src/components.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module */
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\n//# sourceURL=webpack://perspectives-react/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./src/components.css":
/*!****************************!*\
  !*** ./src/components.css ***!
  \****************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_components_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./components.css */ \"./node_modules/css-loader/dist/cjs.js!./src/components.css\");\n;\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_components_css__WEBPACK_IMPORTED_MODULE_1__.default, options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_components_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});\n\n//# sourceURL=webpack://perspectives-react/./src/components.css?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements: module, __webpack_require__.nc, __webpack_require__.* */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : 0;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://perspectives-react/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "@primer/octicons-react":
/*!*****************************************!*\
  !*** external "@primer/octicons-react" ***!
  \*****************************************/
/*! dynamic exports */
/*! export __esModule [maybe provided (runtime-defined)] [no usage info] [provision prevents renaming (no use info)] */
/*! other exports [maybe provided (runtime-defined)] [no usage info] */
/*! runtime requirements: module */
/***/ ((module) => {

eval("module.exports = require(\"@primer/octicons-react\");;\n\n//# sourceURL=webpack://perspectives-react/external_%22@primer/octicons-react%22?");

/***/ }),

/***/ "perspectives-proxy":
/*!*************************************!*\
  !*** external "perspectives-proxy" ***!
  \*************************************/
/*! dynamic exports */
/*! exports [maybe provided (runtime-defined)] [no usage info] */
/*! runtime requirements: module */
/***/ ((module) => {

eval("module.exports = require(\"perspectives-proxy\");;\n\n//# sourceURL=webpack://perspectives-react/external_%22perspectives-proxy%22?");

/***/ }),

/***/ "prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! dynamic exports */
/*! export __esModule [maybe provided (runtime-defined)] [no usage info] [provision prevents renaming (no use info)] */
/*! other exports [maybe provided (runtime-defined)] [no usage info] */
/*! runtime requirements: module */
/***/ ((module) => {

eval("module.exports = require(\"prop-types\");;\n\n//# sourceURL=webpack://perspectives-react/external_%22prop-types%22?");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! dynamic exports */
/*! export __esModule [maybe provided (runtime-defined)] [no usage info] [provision prevents renaming (no use info)] */
/*! other exports [maybe provided (runtime-defined)] [no usage info] */
/*! runtime requirements: module */
/***/ ((module) => {

eval("module.exports = require(\"react\");;\n\n//# sourceURL=webpack://perspectives-react/external_%22react%22?");

/***/ }),

/***/ "react-bootstrap":
/*!**********************************!*\
  !*** external "react-bootstrap" ***!
  \**********************************/
/*! dynamic exports */
/*! export __esModule [maybe provided (runtime-defined)] [no usage info] [provision prevents renaming (no use info)] */
/*! other exports [maybe provided (runtime-defined)] [no usage info] */
/*! runtime requirements: module */
/***/ ((module) => {

eval("module.exports = require(\"react-bootstrap\");;\n\n//# sourceURL=webpack://perspectives-react/external_%22react-bootstrap%22?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => module['default'] :
/******/ 				() => module;
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__("./src/perspectives-react-components.js");
/******/ })()
;
});